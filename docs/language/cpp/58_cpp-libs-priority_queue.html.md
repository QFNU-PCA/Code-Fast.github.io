<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>C++ 容器类 <priority_queue></title>
</head>
<body>
<div class="article-intro" id="content">
			
			<h1>C++ 容器类 <code>&lt;priority_queue&gt;</code></h1>&#13;
&#13;
<p>在 C++ 中，<code>&lt;priority_queue&gt;</code> 是标准模板库（STL）的一部分，用于实现优先队列。</p><p>优先队列是一种特殊的队列，它允许我们快速访问队列中具有最高（或最低）优先级的元素。</p><p>在 C++ 中，<code>priority_queue</code> 默认是一个最大堆，这意味着队列的顶部元素总是具有最大的值。</p>&#13;
&#13;
<p><code>priority_queue</code> 是一个容器适配器，它提供了对底层容器的堆操作。它不提供迭代器，也不支持随机访问。</p>&#13;
<h3>语法</h3>&#13;
<p>以下是 <code>priority_queue</code> 的基本语法：</p>&#13;
<pre>#include &lt;queue&gt;&#13;
&#13;
// 声明一个整型优先队列&#13;
priority_queue&lt;int&gt; pq;&#13;
&#13;
// 声明一个自定义类型的优先队列，需要提供比较函数&#13;
struct compare {&#13;
    bool operator()(int a, int b) {&#13;
        return a &gt; b; // 这里定义了最小堆&#13;
    }&#13;
};&#13;
priority_queue&lt;int, vector&lt;int&gt;, compare&gt; pq_min;</pre>&#13;
<h3>常用操作</h3>&#13;
<ul>&#13;
<li><code>empty()</code>: 检查队列是否为空。</li>&#13;
<li><code>size()</code>: 返回队列中的元素数量。</li>&#13;
<li><code>top()</code>: 返回队列顶部的元素（不删除它）。</li>&#13;
<li><code>push()</code>: 向队列添加一个元素。</li>&#13;
<li><code>pop()</code>: 移除队列顶部的元素。</li>&#13;
</ul>&#13;
<h2>实例</h2>&#13;
<p>下面是一个使用 <code>priority_queue</code> 的简单实例，我们将创建一个最大堆，并展示如何添加元素和获取队列顶部的元素。</p>&#13;
<div class="example"><h2 class="example">实例</h2> <div class="example_code">
<span style="color: #060;">#include &lt;iostream&gt;</span><br/>
<span style="color: #060;">#include &lt;queue&gt;</span><br/>
<br/>
<span style="color: #05a;">int</span> main<span style="color: #008000;">(</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
    <span style="color: #666666;">// 创建一个整型优先队列</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #007788;">priority_queue</span><span style="color: #000080;">&lt;</span><span style="color: #05a;">int</span><span style="color: #000080;">&gt;</span> pq<span style="color: #008080;">;</span><br/>
<br/>
    <span style="color: #666666;">// 向优先队列中添加元素</span><br/>
    pq.<span style="color: #007788;">push</span><span style="color: #008000;">(</span><span style="color: #0000dd;">30</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span><br/>
    pq.<span style="color: #007788;">push</span><span style="color: #008000;">(</span><span style="color: #0000dd;">10</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span><br/>
    pq.<span style="color: #007788;">push</span><span style="color: #008000;">(</span><span style="color: #0000dd;">50</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span><br/>
    pq.<span style="color: #007788;">push</span><span style="color: #008000;">(</span><span style="color: #0000dd;">20</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span><br/>
<br/>
    <span style="color: #666666;">// 输出队列中的元素</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">"队列中的元素："</span> <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span><br/>
    <span style="color: #05a;">while</span> <span style="color: #008000;">(</span><span style="color: #000040;">!</span>pq.<span style="color: #007788;">empty</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
        std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> pq.<span style="color: #007788;">top</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span> <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span><br/>
        pq.<span style="color: #007788;">pop</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span><br/>
    <span style="color: #008000;">}</span><br/>
<br/>
    <span style="color: #05a;">return</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span><br/>
<span style="color: #008000;">}</span><br/>
</div></div>&#13;
<p>输出结果：</p>&#13;
<pre>队列中的元素：&#13;
50&#13;
30&#13;
20&#13;
10</pre>&#13;
<h2>自定义优先级</h2>&#13;
<p>如果你需要一个最小堆，可以通过自定义比较函数来实现：</p>&#13;
<div class="example"><h2 class="example">实例</h2> <div class="example_code">
<span style="color: #060;">#include &lt;iostream&gt;</span><br/>
<span style="color: #060;">#include &lt;queue&gt;</span><br/>
<span style="color: #060;">#include &lt;vector&gt;</span><br/>
<br/>
<span style="color: #05a;">struct</span> compare <span style="color: #008000;">{</span><br/>
    <span style="color: #05a;">bool</span> operator<span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008000;">(</span><span style="color: #05a;">int</span> a, <span style="color: #05a;">int</span> b<span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
        <span style="color: #05a;">return</span> a <span style="color: #000080;">&gt;</span> b<span style="color: #008080;">;</span> <span style="color: #666666;">// 定义最小堆</span><br/>
    <span style="color: #008000;">}</span><br/>
<span style="color: #008000;">}</span><span style="color: #008080;">;</span><br/>
<br/>
<span style="color: #05a;">int</span> main<span style="color: #008000;">(</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
    <span style="color: #666666;">// 创建一个自定义类型的优先队列，使用最小堆</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #007788;">priority_queue</span><span style="color: #000080;">&lt;</span><span style="color: #05a;">int</span>, std<span style="color: #008080;">::</span><span style="color: #007788;">vector</span><span style="color: #000080;">&lt;</span><span style="color: #05a;">int</span><span style="color: #000080;">&gt;</span>, compare<span style="color: #000080;">&gt;</span> pq_min<span style="color: #008080;">;</span><br/>
<br/>
    <span style="color: #666666;">// 向优先队列中添加元素</span><br/>
    pq_min.<span style="color: #007788;">push</span><span style="color: #008000;">(</span><span style="color: #0000dd;">30</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span><br/>
    pq_min.<span style="color: #007788;">push</span><span style="color: #008000;">(</span><span style="color: #0000dd;">10</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span><br/>
    pq_min.<span style="color: #007788;">push</span><span style="color: #008000;">(</span><span style="color: #0000dd;">50</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span><br/>
    pq_min.<span style="color: #007788;">push</span><span style="color: #008000;">(</span><span style="color: #0000dd;">20</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span><br/>
<br/>
    <span style="color: #666666;">// 输出队列中的元素</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">"最小堆中的元素："</span> <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span><br/>
    <span style="color: #05a;">while</span> <span style="color: #008000;">(</span><span style="color: #000040;">!</span>pq_min.<span style="color: #007788;">empty</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
        std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> pq_min.<span style="color: #007788;">top</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span> <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span><br/>
        pq_min.<span style="color: #007788;">pop</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span><br/>
    <span style="color: #008000;">}</span><br/>
<br/>
    <span style="color: #05a;">return</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span><br/>
<span style="color: #008000;">}</span><br/>
</div></div>&#13;
<p>输出结果：</p>&#13;
<pre>最小堆中的元素：&#13;
10&#13;
20&#13;
30&#13;
50</pre>&#13;
&#13;
<p><code>&lt;priority_queue&gt;</code> 是C++ STL中一个非常有用的容器，特别适合需要快速访问最高或最低优先级元素的场景。通过自定义比较函数，我们可以轻松地实现最大堆或最小堆。希望这篇文章能帮助初学者更好地理解和使用 <code>priority_queue</code>。</p>			<!-- 其他扩展 -->
						
			</div>
			
		
</body>
</html>