<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>C++ 标准库 <cstdlib></title>
</head>
<body>
<div class="article-intro" id="content">
			
			<h1>C++ 标准库 &lt;cstdlib&gt;</h1>&#13;
&#13;
<p><code>&lt;cstdlib&gt;</code> 是 C++ 标准库中的一个头文件，提供了各种通用工具函数，包括内存分配、进程控制、环境查询、排序和搜索、数学转换、伪随机数生成等。这些函数最初来自 C 标准库 <code>&lt;stdlib.h&gt;</code>，在 C++ 中进行了标准化和扩展。</p>&#13;
<h3>语法</h3>&#13;
<p>在 C++ 程序中，要使用 <code>cstdlib</code> 中的函数，需要先包含这个头文件：</p>&#13;
<pre>#include &lt;cstdlib&gt;</pre>&#13;
<h3>常用函数</h3>&#13;
<p><code>cstdlib</code> 中包含了许多有用的函数，以下是一些常用的函数及其简要说明：</p>&#13;
<ol>&#13;
<li><code>exit(int status)</code>: 终止程序执行，并返回一个状态码。</li>&#13;
<li><code>system(const char* command)</code>: 执行一个命令行字符串。</li>&#13;
<li><code>malloc(size_t size)</code>: 分配指定大小的内存。</li>&#13;
<li><code>free(void* ptr)</code>: 释放之前分配的内存。</li>&#13;
<li><code>atoi(const char* str)</code>: 将字符串转换为整数。</li>&#13;
<li><code>atof(const char* str)</code>: 将字符串转换为浮点数。</li>&#13;
<li><code>rand()</code>: 生成一个随机数。</li>&#13;
<li><code>srand(unsigned int seed)</code>: 设置随机数生成器的种子。</li>&#13;
</ol>&#13;
<h3>实例</h3>&#13;
<p>以下是一些使用 <code>cstdlib</code> 中函数的实例：</p>&#13;
<h3>实例 1：使用 <code>exit</code> 函数</h3>&#13;
<div class="example"><h2 class="example">实例</h2> <div class="example_code">
<span style="color: #060;">#include &lt;iostream&gt;</span><br/>
<span style="color: #060;">#include &lt;cstdlib&gt;</span><br/>
<br/>
<span style="color: #05a;">int</span> main<span style="color: #008000;">(</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">"This program will exit now."</span> <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span><br/>
    <span style="color: #05a;">exit</span><span style="color: #008000;">(</span><span style="color: #0000dd;">0</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span> <span style="color: #666666;">// 正常退出程序</span><br/>
    <span style="color: #05a;">return</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span> <span style="color: #666666;">// 这行代码不会被执行</span><br/>
<span style="color: #008000;">}</span><br/>
</div></div>&#13;
<p><strong>输出结果：</strong></p>&#13;
<pre>This program will exit now.</pre>&#13;
<h3>实例 2：使用 <code>system</code> 函数</h3>&#13;
<div class="example"><h2 class="example">实例</h2> <div class="example_code">
<span style="color: #060;">#include &lt;iostream&gt;</span><br/>
<span style="color: #060;">#include &lt;cstdlib&gt;</span><br/>
<br/>
<span style="color: #05a;">int</span> main<span style="color: #008000;">(</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">"Executing a system command: dir"</span> <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span><br/>
    <span style="color: #05a;">system</span><span style="color: #008000;">(</span><span style="color: #a11;">"dir"</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span> <span style="color: #666666;">// 在 Windows 上显示当前目录的文件和文件夹</span><br/>
    <span style="color: #05a;">return</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span><br/>
<span style="color: #008000;">}</span><br/>
</div></div>&#13;
<p><strong>输出结果：</strong></p>&#13;
<pre>Executing a system command: dir</pre>&#13;
<p>然后显示当前目录的文件和文件夹列表。</p>&#13;
<h3>实例 3：使用 <code>malloc</code> 和 <code>free</code> 函数</h3>&#13;
<div class="example"><h2 class="example">实例</h2> <div class="example_code">
<span style="color: #060;">#include &lt;iostream&gt;</span><br/>
<span style="color: #060;">#include &lt;cstdlib&gt;</span><br/>
<br/>
<span style="color: #05a;">int</span> main<span style="color: #008000;">(</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
    <span style="color: #05a;">int</span><span style="color: #000040;">*</span> ptr <span style="color: #000080;">=</span> <span style="color: #008000;">(</span><span style="color: #05a;">int</span><span style="color: #000040;">*</span><span style="color: #008000;">)</span><span style="color: #05a;">malloc</span><span style="color: #008000;">(</span><span style="color: #0000dd;">10</span> <span style="color: #000040;">*</span> <span style="color: #05a;">sizeof</span><span style="color: #008000;">(</span><span style="color: #05a;">int</span><span style="color: #008000;">)</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span> <span style="color: #666666;">// 分配内存</span><br/>
    <span style="color: #05a;">if</span> <span style="color: #008000;">(</span>ptr <span style="color: #000080;">==</span> <span style="color: #05a;">NULL</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
        std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">"Memory allocation failed."</span> <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span><br/>
        <span style="color: #05a;">return</span> <span style="color: #0000dd;">1</span><span style="color: #008080;">;</span><br/>
    <span style="color: #008000;">}</span><br/>
<br/>
    <span style="color: #05a;">for</span> <span style="color: #008000;">(</span><span style="color: #05a;">int</span> i <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span> i <span style="color: #000080;">&lt;</span> <span style="color: #0000dd;">10</span><span style="color: #008080;">;</span> <span style="color: #000040;">++</span>i<span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
        ptr<span style="color: #008000;">[</span>i<span style="color: #008000;">]</span> <span style="color: #000080;">=</span> i <span style="color: #000040;">*</span> i<span style="color: #008080;">;</span> <span style="color: #666666;">// 使用分配的内存</span><br/>
    <span style="color: #008000;">}</span><br/>
<br/>
    <span style="color: #05a;">for</span> <span style="color: #008000;">(</span><span style="color: #05a;">int</span> i <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span> i <span style="color: #000080;">&lt;</span> <span style="color: #0000dd;">10</span><span style="color: #008080;">;</span> <span style="color: #000040;">++</span>i<span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
        std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">"Element "</span> <span style="color: #000080;">&lt;&lt;</span> i <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">": "</span> <span style="color: #000080;">&lt;&lt;</span> ptr<span style="color: #008000;">[</span>i<span style="color: #008000;">]</span> <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span><br/>
    <span style="color: #008000;">}</span><br/>
<br/>
    <span style="color: #05a;">free</span><span style="color: #008000;">(</span>ptr<span style="color: #008000;">)</span><span style="color: #008080;">;</span> <span style="color: #666666;">// 释放内存</span><br/>
    <span style="color: #05a;">return</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span><br/>
<span style="color: #008000;">}</span><br/>
</div></div>&#13;
<p><strong>输出结果：</strong></p>&#13;
<pre>Element 0: 0&#13;
Element 1: 1&#13;
Element 2: 4&#13;
...&#13;
Element 9: 81</pre>&#13;
<h3>实例 4：使用 <code>atoi</code> 和 <code>atof</code> 函数</h3>&#13;
<div class="example"><h2 class="example">实例</h2> <div class="example_code">
<span style="color: #060;">#include &lt;iostream&gt;</span><br/>
<span style="color: #060;">#include &lt;cstdlib&gt;</span><br/>
<br/>
<span style="color: #05a;">int</span> main<span style="color: #008000;">(</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #007788;">string</span> str1 <span style="color: #000080;">=</span> <span style="color: #a11;">"123"</span><span style="color: #008080;">;</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #007788;">string</span> str2 <span style="color: #000080;">=</span> <span style="color: #a11;">"456.78"</span><span style="color: #008080;">;</span><br/>
<br/>
    <span style="color: #05a;">int</span> num1 <span style="color: #000080;">=</span> std<span style="color: #008080;">::</span><span style="color: #05a;">atoi</span><span style="color: #008000;">(</span>str1.<span style="color: #007788;">c_str</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span> <span style="color: #666666;">// 将字符串转换为整数</span><br/>
    <span style="color: #05a;">double</span> num2 <span style="color: #000080;">=</span> std<span style="color: #008080;">::</span><span style="color: #05a;">atof</span><span style="color: #008000;">(</span>str2.<span style="color: #007788;">c_str</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span> <span style="color: #666666;">// 将字符串转换为浮点数</span><br/>
<br/>
    std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">"Integer: "</span> <span style="color: #000080;">&lt;&lt;</span> num1 <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">"Float: "</span> <span style="color: #000080;">&lt;&lt;</span> num2 <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span><br/>
    <span style="color: #05a;">return</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span><br/>
<span style="color: #008000;">}</span><br/>
</div></div>&#13;
<p><strong>输出结果：</strong></p>&#13;
<pre>Integer: 123&#13;
Float: 456.78</pre>&#13;
<h3>实例 5：使用 <code>rand</code> 和 <code>srand</code> 函数</h3>&#13;
<div class="example"><h2 class="example">实例</h2> <div class="example_code">
<span style="color: #060;">#include &lt;cstdlib&gt;</span><br/>
<span style="color: #060;">#include &lt;iostream&gt;</span><br/>
<span style="color: #060;">#include &lt;ctime&gt;</span><br/>
<br/>
<span style="color: #05a;">int</span> main<span style="color: #008000;">(</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #05a;">srand</span><span style="color: #008000;">(</span>std<span style="color: #008080;">::</span><span style="color: #05a;">time</span><span style="color: #008000;">(</span>nullptr<span style="color: #008000;">)</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span>  <span style="color: #666666;">// 使用当前时间作为随机数种子</span><br/>
    <span style="color: #05a;">for</span> <span style="color: #008000;">(</span><span style="color: #05a;">int</span> i <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span> i <span style="color: #000080;">&lt;</span> <span style="color: #0000dd;">5</span><span style="color: #008080;">;</span> <span style="color: #000040;">++</span>i<span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
        std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #05a;">rand</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span> <span style="color: #000040;">%</span> <span style="color: #0000dd;">100</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">" "</span><span style="color: #008080;">;</span>  <span style="color: #666666;">// 生成0到99之间的随机数</span><br/>
    <span style="color: #008000;">}</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span><br/>
<br/>
    <span style="color: #05a;">return</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span><br/>
<span style="color: #008000;">}</span><br/>
</div></div><p><strong>输出结果：</strong></p>&#13;
<pre>53 22 62 68 62 </pre>			<!-- 其他扩展 -->
						
			</div>
			
		
</body>
</html>