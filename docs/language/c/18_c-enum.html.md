<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>C enum(枚举)</title>
</head>
<body>
<div class="article-intro" id="content">
			
			
<h1>C enum(枚举)</h1>&#13;
&#13;
<p>枚举是 C 语言中的一种基本数据类型，用于定义一组具有离散值的常量，它可以让数据更简洁，更易读。</p>&#13;
<p>枚举类型通常用于为程序中的一组相关的常量取名字，以便于程序的可读性和维护性。</p>&#13;
<p>定义一个枚举类型，需要使用 <span class="marked">enum</span> 关键字，后面跟着枚举类型的名称，以及用大括号 <span class="marked">{}</span> 括起来的一组枚举常量。每个枚举常量可以用一个标识符来表示，也可以为它们指定一个整数值，如果没有指定，那么默认从 <span class="marked">0</span> 开始递增。</p>&#13;
<p>枚举语法定义格式为：</p>&#13;
&#13;
<pre>enum　枚举名　{枚举元素1,枚举元素2,……};</pre>&#13;
&#13;
<p>接下来我们举个例子，比如：一星期有 7 天，如果不用枚举，我们需要使用 #define 来为每个整数定义一个别名：</p>&#13;
<div class="example">&#13;
<div class="example_code">&#13;
<div class="hl-main"><span class="hl-prepro">#define</span><span class="hl-code"> </span><span class="hl-identifier">MON</span><span class="hl-code">  </span><span class="hl-number">1</span><span class="hl-prepro"/><span class="hl-code">
</span><span class="hl-prepro">#define</span><span class="hl-code"> </span><span class="hl-identifier">TUE</span><span class="hl-code">  </span><span class="hl-number">2</span><span class="hl-prepro"/><span class="hl-code">
</span><span class="hl-prepro">#define</span><span class="hl-code"> </span><span class="hl-identifier">WED</span><span class="hl-code">  </span><span class="hl-number">3</span><span class="hl-prepro"/><span class="hl-code">
</span><span class="hl-prepro">#define</span><span class="hl-code"> </span><span class="hl-identifier">THU</span><span class="hl-code">  </span><span class="hl-number">4</span><span class="hl-prepro"/><span class="hl-code">
</span><span class="hl-prepro">#define</span><span class="hl-code"> </span><span class="hl-identifier">FRI</span><span class="hl-code">  </span><span class="hl-number">5</span><span class="hl-prepro"/><span class="hl-code">
</span><span class="hl-prepro">#define</span><span class="hl-code"> </span><span class="hl-identifier">SAT</span><span class="hl-code">  </span><span class="hl-number">6</span><span class="hl-prepro"/><span class="hl-code">
</span><span class="hl-prepro">#define</span><span class="hl-code"> </span><span class="hl-identifier">SUN</span><span class="hl-code">  </span><span class="hl-number">7</span></div>&#13;
</div></div>&#13;
<p>这个看起来代码量就比较多，接下来我们看看使用枚举的方式：</p>&#13;
<pre>enum DAY&#13;
{&#13;
      MON=1, TUE, WED, THU, FRI, SAT, SUN&#13;
};</pre>&#13;
<p>这样看起来是不是更简洁了。</p>&#13;
&#13;
<p><strong>注意：</strong>第一个枚举成员的默认值为整型的 0，后续枚举成员的值在前一个成员上加 1。我们在这个实例中把第一个枚举成员的值定义为 1，第二个就为 2，以此类推。</p>&#13;
&#13;
&#13;
<blockquote><p>可以在定义枚举类型时改变枚举元素的值：</p>&#13;
<pre>enum season {spring, summer=3, autumn, winter};</pre>&#13;
<p>没有指定值的枚举元素，其值为前一元素加 1。也就说 spring 的值为 0，summer 的值为 3，autumn 的值为 4，winter 的值为 5</p></blockquote>&#13;
&#13;
&#13;
<h3>&#13;
枚举变量的定义</h3>&#13;
<p>前面我们只是声明了枚举类型，接下来我们看看如何定义枚举变量。</p>&#13;
<p>我们可以通过以下三种方式来定义枚举变量</p>&#13;
&#13;
<p><strong>1、先定义枚举类型，再定义枚举变量</strong></p>&#13;
<pre>enum DAY&#13;
{&#13;
      MON=1, TUE, WED, THU, FRI, SAT, SUN&#13;
};&#13;
enum DAY day;</pre>&#13;
<p><strong>2、定义枚举类型的同时定义枚举变量</strong></p>&#13;
<pre>enum DAY&#13;
{&#13;
      MON=1, TUE, WED, THU, FRI, SAT, SUN&#13;
} day;</pre>&#13;
<p><strong>3、省略枚举名称，直接定义枚举变量</strong></p>&#13;
<pre>enum&#13;
{&#13;
      MON=1, TUE, WED, THU, FRI, SAT, SUN&#13;
} day;</pre>&#13;
&#13;
<div class="example">&#13;
<h2 class="example">实例</h2>&#13;
<div class="example_code">&#13;
<div class="hl-main"><span class="hl-prepro">#include</span><span class="hl-prepro"> </span><span class="hl-quotes">&lt;</span><span class="hl-string">stdio.h</span><span class="hl-quotes">&gt;</span><span class="hl-prepro"/><span class="hl-code">
 
</span><span class="hl-types">enum</span><span class="hl-code"> </span><span class="hl-identifier">DAY</span><span class="hl-code">
</span><span class="hl-brackets">{</span><span class="hl-code">
      </span><span class="hl-identifier">MON</span><span class="hl-code">=</span><span class="hl-number">1</span><span class="hl-code">, </span><span class="hl-identifier">TUE</span><span class="hl-code">, </span><span class="hl-identifier">WED</span><span class="hl-code">, </span><span class="hl-identifier">THU</span><span class="hl-code">, </span><span class="hl-identifier">FRI</span><span class="hl-code">, </span><span class="hl-identifier">SAT</span><span class="hl-code">, </span><span class="hl-identifier">SUN</span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-code">;
 
</span><span class="hl-types">int</span><span class="hl-code"> </span><span class="hl-identifier">main</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-brackets">{</span><span class="hl-code">
    </span><span class="hl-types">enum</span><span class="hl-code"> </span><span class="hl-identifier">DAY</span><span class="hl-code"> </span><span class="hl-identifier">day</span><span class="hl-code">;
    </span><span class="hl-identifier">day</span><span class="hl-code"> = </span><span class="hl-identifier">WED</span><span class="hl-code">;
    </span><span class="hl-identifier">printf</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">%d</span><span class="hl-quotes">"</span><span class="hl-code">,</span><span class="hl-identifier">day</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-reserved">return</span><span class="hl-code"> </span><span class="hl-number">0</span><span class="hl-code">;
</span><span class="hl-brackets">}</span></div>&#13;
</div></div>&#13;
&#13;
<p>以上实例输出结果为：</p>&#13;
<pre>3</pre>&#13;
&#13;
<p> 在C 语言中，枚举类型是被当做 int 或者 unsigned int 类型来处理的，所以按照 C 语言规范是没有办法遍历枚举类型的。</p>&#13;
<p>不过在一些特殊的情况下，枚举类型必须连续是可以实现有条件的遍历。</p>&#13;
&#13;
<p>以下实例使用 for 来遍历枚举的元素：</p>&#13;
<div class="example">&#13;
<h2 class="example">实例</h2>&#13;
<div class="example_code">&#13;
<div class="hl-main"><span class="hl-prepro">#include</span><span class="hl-prepro"> </span><span class="hl-quotes">&lt;</span><span class="hl-string">stdio.h</span><span class="hl-quotes">&gt;</span><span class="hl-prepro"/><span class="hl-code">
 
</span><span class="hl-types">enum</span><span class="hl-code"> </span><span class="hl-identifier">DAY</span><span class="hl-code">
</span><span class="hl-brackets">{</span><span class="hl-code">
      </span><span class="hl-identifier">MON</span><span class="hl-code">=</span><span class="hl-number">1</span><span class="hl-code">, </span><span class="hl-identifier">TUE</span><span class="hl-code">, </span><span class="hl-identifier">WED</span><span class="hl-code">, </span><span class="hl-identifier">THU</span><span class="hl-code">, </span><span class="hl-identifier">FRI</span><span class="hl-code">, </span><span class="hl-identifier">SAT</span><span class="hl-code">, </span><span class="hl-identifier">SUN</span><span class="hl-code">
</span><span class="hl-brackets">}</span><span class="hl-code"> </span><span class="hl-identifier">day</span><span class="hl-code">;
</span><span class="hl-types">int</span><span class="hl-code"> </span><span class="hl-identifier">main</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-brackets">{</span><span class="hl-code">
    </span><span class="hl-comment">// 遍历枚举元素</span><span class="hl-comment"/><span class="hl-code">
    </span><span class="hl-reserved">for</span><span class="hl-code"> </span><span class="hl-brackets">(</span><span class="hl-identifier">day</span><span class="hl-code"> = </span><span class="hl-identifier">MON</span><span class="hl-code">; </span><span class="hl-identifier">day</span><span class="hl-code"> &lt;= </span><span class="hl-identifier">SUN</span><span class="hl-code">; </span><span class="hl-identifier">day</span><span class="hl-code">++</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
        </span><span class="hl-identifier">printf</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">枚举元素：%d </span><span class="hl-special">\</span><span class="hl-string">n</span><span class="hl-quotes">"</span><span class="hl-code">, </span><span class="hl-identifier">day</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-brackets">}</span><span class="hl-code">
</span><span class="hl-brackets">}</span></div>&#13;
</div></div>&#13;
<p>以上实例输出结果为：</p>&#13;
&#13;
<pre>枚举元素：1 &#13;
枚举元素：2 &#13;
枚举元素：3 &#13;
枚举元素：4 &#13;
枚举元素：5 &#13;
枚举元素：6 &#13;
枚举元素：7&#13;
</pre>&#13;
<p>以下枚举类型不连续，这种枚举无法遍历。</p>&#13;
<pre>enum&#13;
{&#13;
    ENUM_0,&#13;
    ENUM_10 = 10,&#13;
    ENUM_11&#13;
};</pre>&#13;
&#13;
<p>枚举在 switch 中的使用：</p>&#13;
<div class="example">&#13;
<h2 class="example">实例</h2>&#13;
<div class="example_code">&#13;
<div class="hl-main"><span class="hl-prepro">#include</span><span class="hl-prepro"> </span><span class="hl-quotes">&lt;</span><span class="hl-string">stdio.h</span><span class="hl-quotes">&gt;</span><span class="hl-prepro"/><span class="hl-code">
</span><span class="hl-prepro">#include</span><span class="hl-prepro"> </span><span class="hl-quotes">&lt;</span><span class="hl-string">stdlib.h</span><span class="hl-quotes">&gt;</span><span class="hl-prepro"/><span class="hl-code">
</span><span class="hl-types">int</span><span class="hl-code"> </span><span class="hl-identifier">main</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-brackets">{</span><span class="hl-code">
 
    </span><span class="hl-types">enum</span><span class="hl-code"> </span><span class="hl-identifier">color</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code"> </span><span class="hl-identifier">red</span><span class="hl-code">=</span><span class="hl-number">1</span><span class="hl-code">, </span><span class="hl-identifier">green</span><span class="hl-code">, </span><span class="hl-identifier">blue</span><span class="hl-code"> </span><span class="hl-brackets">}</span><span class="hl-code">;
 
    </span><span class="hl-types">enum</span><span class="hl-code">  </span><span class="hl-identifier">color</span><span class="hl-code"> </span><span class="hl-identifier">favorite_color</span><span class="hl-code">;
 
    </span><span class="hl-mlcomment">/*</span><span class="hl-mlcomment"> 用户输入数字来选择颜色 </span><span class="hl-mlcomment">*/</span><span class="hl-code">
    </span><span class="hl-identifier">printf</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">请输入你喜欢的颜色: (1. red, 2. green, 3. blue): </span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-identifier">scanf</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">%u</span><span class="hl-quotes">"</span><span class="hl-code">, &amp;</span><span class="hl-identifier">favorite_color</span><span class="hl-brackets">)</span><span class="hl-code">;
 
    </span><span class="hl-mlcomment">/*</span><span class="hl-mlcomment"> 输出结果 </span><span class="hl-mlcomment">*/</span><span class="hl-code">
    </span><span class="hl-reserved">switch</span><span class="hl-code"> </span><span class="hl-brackets">(</span><span class="hl-identifier">favorite_color</span><span class="hl-brackets">)</span><span class="hl-code">
    </span><span class="hl-brackets">{</span><span class="hl-code">
    </span><span class="hl-reserved">case</span><span class="hl-code"> </span><span class="hl-identifier">red</span><span class="hl-code">:
        </span><span class="hl-identifier">printf</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">你喜欢的颜色是红色</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-reserved">break</span><span class="hl-code">;
    </span><span class="hl-reserved">case</span><span class="hl-code"> </span><span class="hl-identifier">green</span><span class="hl-code">:
        </span><span class="hl-identifier">printf</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">你喜欢的颜色是绿色</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-reserved">break</span><span class="hl-code">;
    </span><span class="hl-reserved">case</span><span class="hl-code"> </span><span class="hl-identifier">blue</span><span class="hl-code">:
        </span><span class="hl-identifier">printf</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">你喜欢的颜色是蓝色</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-reserved">break</span><span class="hl-code">;
    </span><span class="hl-reserved">default</span><span class="hl-code">:
        </span><span class="hl-identifier">printf</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">你没有选择你喜欢的颜色</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-brackets">}</span><span class="hl-code">
 
    </span><span class="hl-reserved">return</span><span class="hl-code"> </span><span class="hl-number">0</span><span class="hl-code">;
</span><span class="hl-brackets">}</span></div>&#13;
</div></div>&#13;
<p>以上实例输出结果为：</p>&#13;
<pre>请输入你喜欢的颜色: (1. red, 2. green, 3. blue): 1&#13;
你喜欢的颜色是红色</pre>&#13;
<h3>&#13;
将整数转换为枚举</h3>&#13;
<p>以下实例将整数转换为枚举：</p>&#13;
<div class="example">&#13;
<h2 class="example">实例</h2>&#13;
<div class="example_code">&#13;
<div class="hl-main"><span class="hl-prepro">#include</span><span class="hl-prepro"> </span><span class="hl-quotes">&lt;</span><span class="hl-string">stdio.h</span><span class="hl-quotes">&gt;</span><span class="hl-prepro"/><span class="hl-code">
</span><span class="hl-prepro">#include</span><span class="hl-prepro"> </span><span class="hl-quotes">&lt;</span><span class="hl-string">stdlib.h</span><span class="hl-quotes">&gt;</span><span class="hl-prepro"/><span class="hl-code">
 
</span><span class="hl-types">int</span><span class="hl-code"> </span><span class="hl-identifier">main</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-brackets">{</span><span class="hl-code">
 
    </span><span class="hl-types">enum</span><span class="hl-code"> </span><span class="hl-identifier">day</span><span class="hl-code">
    </span><span class="hl-brackets">{</span><span class="hl-code">
        </span><span class="hl-identifier">saturday</span><span class="hl-code">,
        </span><span class="hl-identifier">sunday</span><span class="hl-code">,
        </span><span class="hl-identifier">monday</span><span class="hl-code">,
        </span><span class="hl-identifier">tuesday</span><span class="hl-code">,
        </span><span class="hl-identifier">wednesday</span><span class="hl-code">,
        </span><span class="hl-identifier">thursday</span><span class="hl-code">,
        </span><span class="hl-identifier">friday</span><span class="hl-code">
    </span><span class="hl-brackets">}</span><span class="hl-code"> </span><span class="hl-identifier">workday</span><span class="hl-code">;
 
    </span><span class="hl-types">int</span><span class="hl-code"> </span><span class="hl-identifier">a</span><span class="hl-code"> = </span><span class="hl-number">1</span><span class="hl-code">;
    </span><span class="hl-types">enum</span><span class="hl-code"> </span><span class="hl-identifier">day</span><span class="hl-code"> </span><span class="hl-identifier">weekend</span><span class="hl-code">;
    </span><span class="hl-identifier">weekend</span><span class="hl-code"> = </span><span class="hl-brackets">(</span><span class="hl-code"> </span><span class="hl-types">enum</span><span class="hl-code"> </span><span class="hl-identifier">day</span><span class="hl-code"> </span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-identifier">a</span><span class="hl-code">;  </span><span class="hl-comment">//类型转换</span><span class="hl-comment"/><span class="hl-code">
    </span><span class="hl-comment">//weekend = a; //错误</span><span class="hl-comment"/><span class="hl-code">
    </span><span class="hl-identifier">printf</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">weekend:%d</span><span class="hl-quotes">"</span><span class="hl-code">,</span><span class="hl-identifier">weekend</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-reserved">return</span><span class="hl-code"> </span><span class="hl-number">0</span><span class="hl-code">;
</span><span class="hl-brackets">}</span></div>&#13;
</div></div>&#13;
<p>以上实例输出结果为：</p>&#13;
<pre>weekend:1</pre>			<!-- 其他扩展 -->
						
			</div>
			
		
</body>
</html>