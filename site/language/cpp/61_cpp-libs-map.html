<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>C++ 容器类 <map></title>
</head>
<body>
<div class="article-intro" id="content">
			
			<h1>C++ 容器类 <code>&lt;map&gt;</code></h1>&#13;
&#13;
<p>在 C++ 中，<code>&lt;map&gt;</code> 是标准模板库（STL）的一部分，它提供了一种关联容器，用于存储键值对（key-value pairs）。</p><p><code>map</code> 容器中的元素是按照键的顺序自动排序的，这使得它非常适合需要快速查找和有序数据的场景。</p>&#13;
<h3>定义和特性</h3>&#13;
<ul>&#13;
<li><strong>键值对</strong>：<code>map</code> 存储的是键值对，其中每个键都是唯一的。</li>&#13;
<li><strong>排序</strong>：<code>map</code> 中的元素按照键的顺序自动排序，通常是升序。</li>&#13;
<li><strong>唯一性</strong>：每个键在 <code>map</code> 中只能出现一次。</li>&#13;
<li><strong>双向迭代器</strong>：<code>map</code> 提供了双向迭代器，可以向前和向后遍历元素。</li>&#13;
</ul>&#13;
<h3>基本语法</h3>&#13;
<p>包含头文件:</p><pre>&#13;
#include &lt;map&gt;</pre><p>&#13;
声明 map 容器:</p><pre>&#13;
std::map&lt;key_type, value_type&gt; myMap;</pre>&#13;
<ul>&#13;
<li><code>key_type</code> 是键的类型。</li>&#13;
<li><code>value_type</code> 是值的类型。</li>&#13;
</ul>&#13;
<p>插入元素:</p><pre>&#13;
myMap[key] = value;</pre>&#13;
<p>访问元素:</p><pre>&#13;
value = myMap[key];</pre>&#13;
<p>遍历 map:</p><pre>&#13;
for (std::map&lt;key_type, value_type&gt;::iterator it = myMap.begin(); it != myMap.end(); ++it) {&#13;
    std::cout &lt;&lt; it-&gt;first &lt;&lt; " =&gt; " &lt;&lt; it-&gt;second &lt;&lt; std::endl;&#13;
}</pre>&#13;
<h2>实例</h2>&#13;
<p>下面是一个使用 <code>map</code> 的简单实例，我们将创建一个 <code>map</code> 来存储员工的姓名和他们的年龄，并遍历这个 <code>map</code> 来打印每个员工的姓名和年龄。</p>&#13;
<div class="example"><h2 class="example">实例</h2> <div class="example_code">
<span style="color: #060;">#include &lt;iostream&gt;#include &lt;map&gt;</span><br/>
<span style="color: #060;">#include &lt;string&gt;</span><br/>
<br/>
<span style="color: #05a;">int</span> main<span style="color: #008000;">(</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
    <span style="color: #666666;">// 创建一个 map 容器，存储员工的姓名和年龄</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #007788;">map</span><span style="color: #000080;">&lt;</span>std<span style="color: #008080;">::</span><span style="color: #007788;">string</span>, <span style="color: #05a;">int</span><span style="color: #000080;">&gt;</span> employees<span style="color: #008080;">;</span><br/>
<br/>
    <span style="color: #666666;">// 插入员工信息</span><br/>
    employees<span style="color: #008000;">[</span><span style="color: #a11;">"Alice"</span><span style="color: #008000;">]</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">30</span><span style="color: #008080;">;</span><br/>
    employees<span style="color: #008000;">[</span><span style="color: #a11;">"Bob"</span><span style="color: #008000;">]</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">25</span><span style="color: #008080;">;</span><br/>
    employees<span style="color: #008000;">[</span><span style="color: #a11;">"Charlie"</span><span style="color: #008000;">]</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">35</span><span style="color: #008080;">;</span><br/>
<br/>
    <span style="color: #666666;">// 遍历 map 并打印员工信息</span><br/>
    <span style="color: #05a;">for</span> <span style="color: #008000;">(</span>std<span style="color: #008080;">::</span><span style="color: #007788;">map</span><span style="color: #000080;">&lt;</span>std<span style="color: #008080;">::</span><span style="color: #007788;">string</span>, <span style="color: #05a;">int</span><span style="color: #000080;">&gt;</span><span style="color: #008080;">::</span><span style="color: #007788;">iterator</span> it <span style="color: #000080;">=</span> employees.<span style="color: #007788;">begin</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span> it <span style="color: #000040;">!</span><span style="color: #000080;">=</span> employees.<span style="color: #007788;">end</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span> <span style="color: #000040;">++</span>it<span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
        std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> it<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>first <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">" is "</span> <span style="color: #000080;">&lt;&lt;</span> it<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>second <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">" years old."</span> <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span><br/>
    <span style="color: #008000;">}</span><br/>
<br/>
    <span style="color: #05a;">return</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span><br/>
<span style="color: #008000;">}</span><br/>
</div></div>&#13;
<p>输出结果:</p>&#13;
<pre>Alice is 30 years old.&#13;
Bob is 25 years old.&#13;
Charlie is 35 years old.</pre>&#13;
<h3>进阶用法</h3>&#13;
<p>检查键是否存在:</p><pre>&#13;
if (myMap.find(key) != myMap.end()) {&#13;
    // 键存在&#13;
}</pre>&#13;
<p>删除元素:</p><pre>&#13;
myMap.erase(key);</pre>&#13;
<p>清空 map:</p><pre>&#13;
myMap.clear();</pre>&#13;
<p>获取 map 的大小:</p><pre>&#13;
size_t size = myMap.size();</pre>&#13;
<p>使用自定义比较函数:</p>&#13;
<div class="example"><h2 class="example">实例</h2> <div class="example_code">
<span style="color: #060;">#include &lt;map&gt;</span><br/>
<span style="color: #060;">#include &lt;string&gt;</span><br/>
<span style="color: #060;">#include &lt;functional&gt;</span><br/>
<br/>
<span style="color: #05a;">bool</span> myCompare<span style="color: #008000;">(</span><span style="color: #05a;">const</span> std<span style="color: #008080;">::</span><span style="color: #007788;">string</span><span style="color: #000040;">&amp;</span> a, <span style="color: #05a;">const</span> std<span style="color: #008080;">::</span><span style="color: #007788;">string</span><span style="color: #000040;">&amp;</span> b<span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
    <span style="color: #05a;">return</span> a <span style="color: #000080;">&lt;</span> b<span style="color: #008080;">;</span><br/>
<span style="color: #008000;">}</span><br/>
<br/>
<span style="color: #05a;">int</span> main<span style="color: #008000;">(</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #007788;">map</span><span style="color: #000080;">&lt;</span>std<span style="color: #008080;">::</span><span style="color: #007788;">string</span>, <span style="color: #05a;">int</span>, std<span style="color: #008080;">::</span><span style="color: #007788;">function</span><span style="color: #000080;">&lt;</span><span style="color: #05a;">bool</span><span style="color: #008000;">(</span><span style="color: #05a;">const</span> std<span style="color: #008080;">::</span><span style="color: #007788;">string</span><span style="color: #000040;">&amp;</span>, <span style="color: #05a;">const</span> std<span style="color: #008080;">::</span><span style="color: #007788;">string</span><span style="color: #000040;">&amp;</span><span style="color: #008000;">)</span><span style="color: #000080;">&gt;&gt;</span> myMap<span style="color: #008000;">(</span>myCompare<span style="color: #008000;">)</span><span style="color: #008080;">;</span><br/>
<br/>
    <span style="color: #666666;">// 其他操作...</span><br/>
<br/>
    <span style="color: #05a;">return</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span><br/>
<span style="color: #008000;">}</span><br/>
</div></div>&#13;
<p>&#13;
map 是 C++ STL 中一个非常有用的容器，特别适合需要快速查找和有序数据的场景。</p>			<!-- 其他扩展 -->
						
			</div>
			
		
</body>
</html>