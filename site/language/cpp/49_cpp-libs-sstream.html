<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>C++ 标准库  <sstream></title>
</head>
<body>
<div class="article-intro" id="content">
			
			<h1>C++ 标准库  &lt;sstream&gt;</h1>&#13;
&#13;
<p>在 C++ 编程中，处理字符串和数字之间的转换是一项常见的任务。</p><p><code>sstream</code> 是 C++ 标准库中的一个组件，它提供了一种方便的方式来处理字符串流（可以像处理流一样处理字符串）。</p><p><code>&lt;sstream&gt;</code> 允许你将字符串当作输入/输出流来使用，这使得从字符串中读取数据或将数据写入字符串变得非常简单。</p>&#13;
<h3>定义</h3>&#13;
<p><code>sstream</code>是 C++ 标准库中的一个命名空间，它包含了几个类，用于处理字符串流，这些类包括：</p>&#13;
<ul>&#13;
<li><code>istringstream</code>：用于从字符串中读取数据。</li>&#13;
<li><code>ostringstream</code>：用于将数据写入字符串。</li>&#13;
<li><code>stringstream</code>：是<code>istringstream</code>和<code>ostringstream</code>的组合，可以同时进行读取和写入操作。</li>&#13;
</ul>&#13;
<h3>语法</h3>&#13;
<p>使用<code>sstream</code>的基本语法如下：</p>&#13;
<pre>#include &lt;sstream&gt;&#13;
&#13;
// 使用istringstream&#13;
std::istringstream iss("some data");&#13;
&#13;
// 使用ostringstream&#13;
std::ostringstream oss;&#13;
&#13;
// 使用stringstream&#13;
std::stringstream ss;</pre>&#13;
<h2>实例</h2>&#13;
<h3>从字符串读取数据</h3>&#13;
<p>下面是一个使用 <code>istringstream</code> 从字符串中读取整数和浮点数的例子：</p>&#13;
<div class="example"><h2 class="example">实例</h2> <div class="example_code">
<span style="color: #060;">#include &lt;iostream&gt;</span><br/>
<span style="color: #060;">#include &lt;sstream&gt;</span><br/>
<br/>
<span style="color: #05a;">int</span> main<span style="color: #008000;">(</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #007788;">string</span> data <span style="color: #000080;">=</span> <span style="color: #a11;">"10 20.5"</span><span style="color: #008080;">;</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #007788;">istringstream</span> iss<span style="color: #008000;">(</span>data<span style="color: #008000;">)</span><span style="color: #008080;">;</span><br/>
<br/>
    <span style="color: #05a;">int</span> i<span style="color: #008080;">;</span><br/>
    <span style="color: #05a;">double</span> d<span style="color: #008080;">;</span><br/>
<br/>
    iss <span style="color: #000080;">&gt;&gt;</span> i <span style="color: #000080;">&gt;&gt;</span> d<span style="color: #008080;">;</span><br/>
<br/>
    std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">"Integer: "</span> <span style="color: #000080;">&lt;&lt;</span> i <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">"Double: "</span> <span style="color: #000080;">&lt;&lt;</span> d <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span><br/>
<br/>
    <span style="color: #05a;">return</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span><br/>
<span style="color: #008000;">}</span><br/>
</div></div>&#13;
<p><strong>输出结果：</strong></p>&#13;
<pre>Integer: 10&#13;
Double: 20.5</pre>&#13;
<h3>向字符串写入数据</h3>&#13;
<p>下面是一个使用 <code>ostringstream</code> 将数据写入字符串的例子：</p>&#13;
<div class="example"><h2 class="example">实例</h2> <div class="example_code">
<span style="color: #060;">#include &lt;iostream&gt;</span><br/>
<span style="color: #060;">#include &lt;sstream&gt;</span><br/>
<br/>
<span style="color: #05a;">int</span> main<span style="color: #008000;">(</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #007788;">ostringstream</span> oss<span style="color: #008080;">;</span><br/>
    <span style="color: #05a;">int</span> i <span style="color: #000080;">=</span> <span style="color: #0000dd;">100</span><span style="color: #008080;">;</span><br/>
    <span style="color: #05a;">double</span> d <span style="color: #000080;">=</span> <span style="color:#800080;">200.5</span><span style="color: #008080;">;</span><br/>
<br/>
    oss <span style="color: #000080;">&lt;&lt;</span> i <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">" "</span> <span style="color: #000080;">&lt;&lt;</span> d<span style="color: #008080;">;</span><br/>
<br/>
    std<span style="color: #008080;">::</span><span style="color: #007788;">string</span> result <span style="color: #000080;">=</span> oss.<span style="color: #007788;">str</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">"Resulting string: "</span> <span style="color: #000080;">&lt;&lt;</span> result <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span><br/>
<br/>
    <span style="color: #05a;">return</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span><br/>
<span style="color: #008000;">}</span><br/>
</div></div>&#13;
<p><strong>输出结果：</strong></p>&#13;
<pre>Resulting string: 100 200.5</pre>&#13;
<h3>使用stringstream进行读写操作</h3>&#13;
<p>下面是一个使用 <code>stringstream</code> 同时进行读取和写入操作的例子：</p>&#13;
<div class="example"><h2 class="example">实例</h2> <div class="example_code">
<span style="color: #060;">#include &lt;iostream&gt;</span><br/>
<span style="color: #060;">#include &lt;sstream&gt;</span><br/>
<br/>
<span style="color: #05a;">int</span> main<span style="color: #008000;">(</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #007788;">string</span> data <span style="color: #000080;">=</span> <span style="color: #a11;">"30 40.5"</span><span style="color: #008080;">;</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #007788;">stringstream</span> ss<span style="color: #008000;">(</span>data<span style="color: #008000;">)</span><span style="color: #008080;">;</span><br/>
<br/>
    <span style="color: #05a;">int</span> i<span style="color: #008080;">;</span><br/>
    <span style="color: #05a;">double</span> d<span style="color: #008080;">;</span><br/>
<br/>
    <span style="color: #666666;">// 从stringstream读取数据</span><br/>
    ss <span style="color: #000080;">&gt;&gt;</span> i <span style="color: #000080;">&gt;&gt;</span> d<span style="color: #008080;">;</span><br/>
<br/>
    std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">"Read Integer: "</span> <span style="color: #000080;">&lt;&lt;</span> i <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">", Double: "</span> <span style="color: #000080;">&lt;&lt;</span> d <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span><br/>
<br/>
    <span style="color: #666666;">// 向stringstream写入数据</span><br/>
    ss.<span style="color: #007788;">str</span><span style="color: #008000;">(</span><span style="color: #a11;">""</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span> <span style="color: #666666;">// 清空stringstream</span><br/>
    ss <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">"New data: "</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #0000dd;">50</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">" "</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color:#800080;">60.7</span><span style="color: #008080;">;</span><br/>
<br/>
    std<span style="color: #008080;">::</span><span style="color: #007788;">string</span> newData <span style="color: #000080;">=</span> ss.<span style="color: #007788;">str</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">"New data string: "</span> <span style="color: #000080;">&lt;&lt;</span> newData <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span><br/>
<br/>
    <span style="color: #05a;">return</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span><br/>
<span style="color: #008000;">}</span><br/>
</div></div>&#13;
<p><strong>输出结果：</strong></p>&#13;
<pre>Read Integer: 30, Double: 40.5&#13;
New data string: New data: 50 60.7</pre>&#13;
<h2>总结</h2>&#13;
<p><code>sstream</code> 是 C++ 标准库中一个非常有用的组件，它简化了字符串和基本数据类型之间的转换。通过上述实例，我们可以看到如何使用 <code>istringstream</code>、<code>ostringstream</code> 和 <code>stringstream</code> 来实现这些转换。掌握这些技能将帮助你在 C++ 编程中更加高效地处理字符串数据。</p>			<!-- 其他扩展 -->
						
			</div>
			
		
</body>
</html>