<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>C++ 容器类 <unordered_set></title>
</head>
<body>
<div class="article-intro" id="content">
			
			<h1>C++ 容器类 <code>&lt;unordered_set&gt;</code></h1>&#13;
&#13;
<p>在C++中，<code>&lt;unordered_set&gt;</code> 是标准模板库（STL）的一部分，提供了一种基于哈希表的容器，用于存储唯一的元素集合。</p><p>与 <code>set</code> 不同，<code>unordered_set</code> 不保证元素的排序，但通常提供更快的查找、插入和删除操作。</p>&#13;
&#13;
<p><code>unordered_set</code> 是一个模板类，其定义如下：</p>&#13;
<pre>#include &lt;unordered_set&gt;&#13;
&#13;
std::unordered_set&lt;Key, Hash = std::hash&lt;Key&gt;, Pred = std::equal_to&lt;Key&gt;, Alloc = std::allocator&lt;Key&gt;&gt;</pre>&#13;
<ul>&#13;
<li><code>Key</code> 是存储在 <code>unordered_set</code> 中的元素类型。</li>&#13;
<li><code>Hash</code> 是一个函数或函数对象，用于生成元素的哈希值，默认为 <code>std::hash&lt;Key&gt;</code>。</li>&#13;
<li><code>Pred</code> 是一个二元谓词，用于比较两个元素是否相等，默认为 <code>std::equal_to&lt;Key&gt;</code>。</li>&#13;
<li><code>Alloc</code> 是分配器类型，用于管理内存分配，默认为 <code>std::allocator&lt;Key&gt;</code>。</li>&#13;
</ul>&#13;
<h3>语法</h3>&#13;
<p>以下是一些基本的 <code>unordered_set</code> 操作：</p>&#13;
<ul>&#13;
<li>&#13;
<p><strong>构造函数</strong>：创建一个空的 <code>unordered_set</code>。</p>&#13;
<pre>std::unordered_set&lt;int&gt; uset;</pre>&#13;
</li>&#13;
<li>&#13;
<p><strong>插入元素</strong>：使用 <code>insert()</code> 方法。</p>&#13;
<pre>uset.insert(10);</pre>&#13;
</li>&#13;
<li>&#13;
<p><strong>查找元素</strong>：使用 <code>find()</code> 方法。</p>&#13;
<pre>auto it = uset.find(10);&#13;
if (it != uset.end()) {&#13;
  // 元素存在&#13;
}</pre>&#13;
</li>&#13;
<li>&#13;
<p><strong>删除元素</strong>：使用 <code>erase()</code> 方法。</p>&#13;
<pre>uset.erase(10);</pre>&#13;
</li>&#13;
<li>&#13;
<p><strong>大小和空检查</strong>：使用 <code>size()</code> 和 <code>empty()</code> 方法。</p>&#13;
<pre>size_t size = uset.size();&#13;
bool isEmpty = uset.empty();</pre>&#13;
</li>&#13;
<li>&#13;
<p><strong>清空容器</strong>：使用 <code>clear()</code> 方法。</p>&#13;
<pre>uset.clear();</pre>&#13;
</li>&#13;
</ul>&#13;
<h2>实例</h2>&#13;
<p>下面是一个使用 <code>unordered_set</code> 的简单示例，包括输出结果。</p>&#13;
<div class="example"><h2 class="example">实例</h2> <div class="example_code">
<span style="color: #060;">#include &lt;iostream&gt;</span><br/>
<span style="color: #060;">#include &lt;unordered_set&gt;</span><br/>
<br/>
<span style="color: #05a;">int</span> main<span style="color: #008000;">(</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
    <span style="color: #666666;">// 创建一个整数类型的 unordered_set</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #007788;">unordered_set</span><span style="color: #000080;">&lt;</span><span style="color: #05a;">int</span><span style="color: #000080;">&gt;</span> uset<span style="color: #008080;">;</span><br/>
<br/>
    <span style="color: #666666;">// 插入元素</span><br/>
    uset.<span style="color: #007788;">insert</span><span style="color: #008000;">(</span><span style="color: #0000dd;">10</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span><br/>
    uset.<span style="color: #007788;">insert</span><span style="color: #008000;">(</span><span style="color: #0000dd;">20</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span><br/>
    uset.<span style="color: #007788;">insert</span><span style="color: #008000;">(</span><span style="color: #0000dd;">30</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span><br/>
<br/>
    <span style="color: #666666;">// 打印 unordered_set 中的元素</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">"Elements in uset: "</span><span style="color: #008080;">;</span><br/>
    <span style="color: #05a;">for</span> <span style="color: #008000;">(</span><span style="color: #05a;">int</span> elem <span style="color: #008080;">:</span> uset<span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
        std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> elem <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">" "</span><span style="color: #008080;">;</span><br/>
    <span style="color: #008000;">}</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span><br/>
<br/>
    <span style="color: #666666;">// 查找元素</span><br/>
    <span style="color: #05a;">auto</span> it <span style="color: #000080;">=</span> uset.<span style="color: #007788;">find</span><span style="color: #008000;">(</span><span style="color: #0000dd;">20</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span><br/>
    <span style="color: #05a;">if</span> <span style="color: #008000;">(</span>it <span style="color: #000040;">!</span><span style="color: #000080;">=</span> uset.<span style="color: #007788;">end</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
        std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">"Element 20 found in uset."</span> <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span><br/>
    <span style="color: #008000;">}</span> <span style="color: #05a;">else</span> <span style="color: #008000;">{</span><br/>
        std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">"Element 20 not found in uset."</span> <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span><br/>
    <span style="color: #008000;">}</span><br/>
<br/>
    <span style="color: #666666;">// 删除元素</span><br/>
    uset.<span style="color: #007788;">erase</span><span style="color: #008000;">(</span><span style="color: #0000dd;">20</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">"After erasing 20, elements in uset: "</span><span style="color: #008080;">;</span><br/>
    <span style="color: #05a;">for</span> <span style="color: #008000;">(</span><span style="color: #05a;">int</span> elem <span style="color: #008080;">:</span> uset<span style="color: #008000;">)</span> <span style="color: #008000;">{</span><br/>
        std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> elem <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">" "</span><span style="color: #008080;">;</span><br/>
    <span style="color: #008000;">}</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span><br/>
<br/>
    <span style="color: #666666;">// 检查大小和是否为空</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">"Size of uset: "</span> <span style="color: #000080;">&lt;&lt;</span> uset.<span style="color: #007788;">size</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span> <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">"Is uset empty? "</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #008000;">(</span>uset.<span style="color: #007788;">empty</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span> <span style="color: #008080;">?</span> <span style="color: #a11;">"Yes"</span> <span style="color: #008080;">:</span> <span style="color: #a11;">"No"</span><span style="color: #008000;">)</span> <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span><br/>
<br/>
    <span style="color: #666666;">// 清空 unordered_set</span><br/>
    uset.<span style="color: #007788;">clear</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span><br/>
    std<span style="color: #008080;">::</span><span style="color: #05a;">cout</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #a11;">"After clearing, is uset empty? "</span> <span style="color: #000080;">&lt;&lt;</span> <span style="color: #008000;">(</span>uset.<span style="color: #007788;">empty</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span> <span style="color: #008080;">?</span> <span style="color: #a11;">"Yes"</span> <span style="color: #008080;">:</span> <span style="color: #a11;">"No"</span><span style="color: #008000;">)</span> <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span><br/>
<br/>
    <span style="color: #05a;">return</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span><br/>
<span style="color: #008000;">}</span><br/>
</div></div>&#13;
<p>输出结果:</p><pre>&#13;
Elements in uset: 10 20 30 &#13;
Element 20 found in uset.&#13;
After erasing 20, elements in uset: 10 30 &#13;
Size of uset: 2&#13;
Is uset empty? No&#13;
After clearing, is uset empty? Yes</pre>&#13;
&#13;
<p><code>unordered_set</code> 是一个非常有用的容器，特别适合于需要快速查找、插入和删除操作的场景，同时不需要元素的有序性。</p>			<!-- 其他扩展 -->
						
			</div>
			
		
</body>
</html>