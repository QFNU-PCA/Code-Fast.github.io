<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>C 标准库 - <stdlib.h></title>
</head>
<body>
<div class="article-intro" id="content">
			
			<h1>C 标准库 - <span class="color_h1">&lt;stdlib.h&gt;</span></h1>&#13;
&#13;
<h2>简介</h2>&#13;
<p><b>stdlib .h</b> 头文件定义了四个变量类型、一些宏和各种通用工具函数。</p>&#13;
<p><code>&lt;stdlib.h&gt;</code> 是 C 标准库中的一个头文件，提供了许多通用工具函数，包括内存分配、进程控制、排序和搜索、以及字符串转换等。</p>&#13;
<h2>库变量</h2>&#13;
<p>下面是头文件 stdlib.h 中定义的变量类型：</p>&#13;
<table class="reference notranslate">&#13;
<tr><th style="width:5%">序号</th><th>变量 &amp; 描述</th></tr>&#13;
<tr><td>1</td><td><b>size_t </b><br/>这是无符号整数类型，它是 <b>sizeof</b> 关键字的结果。</td></tr>&#13;
<tr><td>2</td><td><b>wchar_t  </b><br/>这是一个宽字符常量大小的整数类型。</td></tr>&#13;
<tr><td>3</td><td><b>div_t  </b><br/>这是 <b>div</b> 函数返回的结构。</td></tr>&#13;
<tr><td>4</td><td><b>ldiv_t  </b><br/>这是 <b>ldiv</b> 函数返回的结构。</td></tr>&#13;
</table>&#13;
&#13;
<h2>库宏</h2>&#13;
<p>下面是头文件 stdlib.h 中定义的宏：</p>&#13;
<table class="reference notranslate">&#13;
<tr><th style="width:5%">序号</th><th>宏 &amp; 描述</th></tr>&#13;
<tr><td>1</td><td><b>NULL</b><br/>这个宏是一个空指针常量的值。</td></tr>&#13;
<tr><td>2</td><td><b>EXIT_FAILURE</b><br/>这是 exit 函数失败时要返回的值。</td></tr>&#13;
<tr><td>3</td><td><b>EXIT_SUCCESS</b><br/>这是 exit 函数成功时要返回的值。</td></tr>&#13;
<tr><td>4</td><td><b>RAND_MAX </b><br/>这个宏是 rand 函数返回的最大值。</td></tr>&#13;
<tr><td>5</td><td><b>MB_CUR_MAX </b> <br/>这个宏表示在多字节字符集中的最大字符数，不能大于 MB_LEN_MAX。</td></tr>&#13;
</table>&#13;
&#13;
<h2>库函数</h2>&#13;
<p>下面是头文件 stdlib.h 中定义的函数：</p>&#13;
<table class="reference notranslate">&#13;
<tr><th style="width:5%">序号</th><th>函数 &amp; 描述</th></tr>&#13;
<tr><td>1</td><td><a href="c-function-atof.html">double atof(const char *str)</a><br/>把参数 <i>str</i> 所指向的字符串转换为一个浮点数（类型为 double 型）。</td></tr>&#13;
<tr><td>2</td><td><a href="c-function-atoi.html">int atoi(const char *str)</a><br/>把参数 <i>str</i> 所指向的字符串转换为一个整数（类型为 int 型）。</td></tr>&#13;
<tr><td>3</td><td><a href="c-function-atol.html">long int atol(const char *str)</a><br/>把参数 <i>str</i> 所指向的字符串转换为一个长整数（类型为 long int 型）。</td></tr>&#13;
<tr><td>4</td><td><a href="c-function-strtod.html">double strtod(const char *str, char **endptr)</a><br/>把参数 <i>str</i> 所指向的字符串转换为一个浮点数（类型为 double 型）。</td></tr>&#13;
<tr><td>5</td><td><a href="c-function-strtol.html">long int strtol(const char *str, char **endptr, int base)</a><br/>把参数 <i>str</i> 所指向的字符串转换为一个长整数（类型为 long int 型）。</td></tr>&#13;
<tr><td>6</td><td><a href="c-function-strtoul.html">unsigned long int strtoul(const char *str, char **endptr, int base)</a><br/>把参数 <i>str</i> 所指向的字符串转换为一个无符号长整数（类型为 unsigned long int 型）。</td></tr>&#13;
<tr><td>7</td><td><a href="c-function-calloc.html">void *calloc(size_t nitems, size_t size)</a><br/>分配所需的内存空间，并返回一个指向它的指针。</td></tr>&#13;
<tr><td>8</td><td><a href="c-function-free.html">void free(void *ptr)</a><br/>释放之前调用 <i>calloc、malloc</i> 或 <i>realloc</i> 所分配的内存空间。</td></tr>&#13;
<tr><td>9</td><td><a href="c-function-malloc.html">void *malloc(size_t size)</a><br/>分配所需的内存空间，并返回一个指向它的指针。</td></tr>&#13;
<tr><td>10</td><td><a href="c-function-realloc.html">void *realloc(void *ptr, size_t size)</a><br/>尝试重新调整之前调用 <i>malloc</i> 或 <i>calloc</i> 所分配的 ptr 所指向的内存块的大小。</td></tr>&#13;
<tr><td>11</td><td><a href="c-function-abort.html">void abort(void)</a><br/>使一个异常程序终止。</td></tr>&#13;
<tr><td>12</td><td><a href="c-function-atexit.html">int atexit(void (*func)(void))</a><br/>当程序正常终止时，调用指定的函数 <b>func</b>。</td></tr>&#13;
<tr><td>13</td><td><a href="c-function-exit.html">void exit(int status)</a><br/>使程序正常终止。</td></tr>&#13;
<tr><td>14</td><td><a href="c-function-getenv.html">char *getenv(const char *name)</a><br/>搜索 name 所指向的环境字符串，并返回相关的值给字符串。</td></tr>&#13;
<tr><td>15</td><td><a href="c-function-system.html">int system(const char *string)</a><br/>由 string 指定的命令传给要被命令处理器执行的主机环境。</td></tr>&#13;
<tr><td>16</td><td><a href="c-function-bsearch.html">void *bsearch(const void *key, const void *base, size_t nitems, size_t size, int (*compar)(const void *, const void *))</a><br/>执行二分查找。</td></tr>&#13;
<tr><td>17</td><td><a href="c-function-qsort.html">void qsort(void *base, size_t nitems, size_t size, int (*compar)(const void *, const void*))</a><br/>数组排序。</td></tr>&#13;
<tr><td>18</td><td><a href="c-function-abs.html">int abs(int x)</a><br/>返回 x 的绝对值。</td></tr>&#13;
<tr><td>19</td><td><a href="c-function-div.html">div_t div(int numer, int denom)</a><br/>分子除以分母。</td></tr>&#13;
<tr><td>20</td><td><a href="c-function-labs.html">long int labs(long int x)</a><br/>返回 x 的绝对值。</td></tr>&#13;
<tr><td>21</td><td><a href="c-function-ldiv.html">ldiv_t ldiv(long int numer, long int denom)</a><br/>分子除以分母。</td></tr>&#13;
<tr><td>22</td><td><a href="c-function-rand.html">int rand(void)</a><br/>返回一个范围在 0 到 <i>RAND_MAX</i> 之间的伪随机数。</td></tr>&#13;
<tr><td>23</td><td><a href="c-function-srand.html">void srand(unsigned int seed)</a><br/>该函数播种由函数 <b>rand</b> 使用的随机数发生器。</td></tr>&#13;
<tr><td>24</td><td><a href="c-function-mblen.html">int mblen(const char *str, size_t n)</a><br/>返回参数 <i>str</i> 所指向的多字节字符的长度。</td></tr>&#13;
<tr><td>25</td><td><a href="c-function-mbstowcs.html">size_t mbstowcs(schar_t *pwcs, const char *str, size_t n)</a><br/>把参数 <i>str</i> 所指向的多字节字符的字符串转换为参数 <i>pwcs</i> 所指向的数组。</td></tr>&#13;
<tr><td>26</td><td><a href="c-function-mbtowc.html">int mbtowc(whcar_t *pwc, const char *str, size_t n)</a><br/>检查参数 <i>str</i> 所指向的多字节字符。</td></tr>&#13;
<tr><td>27</td><td><a href="c-function-wcstombs.html">size_t wcstombs(char *str, const wchar_t *pwcs, size_t n)</a><br/>把数组 <i>pwcs</i> 中存储的编码转换为多字节字符，并把它们存储在字符串 <i>str</i> 中。</td></tr>&#13;
<tr><td>28</td><td><a href="c-function-wctomb.html">int wctomb(char *str, wchar_t wchar)</a><br/>检查对应于参数 <i>wchar</i> 所给出的多字节字符的编码。</td></tr>&#13;
</table>&#13;
<h3>实例</h3>&#13;
<p>以下是使用 <code>&lt;stdlib.h&gt;</code> 中一些函数的示例。</p>&#13;
<p>&#13;
动态内存分配:</p>&#13;
&#13;
<div class="example"><h2 class="example">实例</h2> <div class="example_code">
<span style="color: #085;">#include &lt;stdio.h&gt;</span><br/>
<span style="color: #085;">#include &lt;stdlib.h&gt;</span><br/>
<br/>
<span style="color: #993333;">int</span> main<span style="color: #000;">(</span><span style="color: #000;">)</span> <span style="color: #000;">{</span><br/>
    <span style="color: #993333;">int</span> <span style="color: #339933;">*</span>array <span style="color: #339933;">=</span> <span style="color: #000;">(</span><span style="color: #993333;">int</span><span style="color: #339933;">*</span><span style="color: #000;">)</span><span style="color: #000066;">malloc</span><span style="color: #000;">(</span><span style="color: #164;">10</span> <span style="color: #339933;">*</span> <span style="color: #993333;">sizeof</span><span style="color: #000;">(</span><span style="color: #993333;">int</span><span style="color: #000;">)</span><span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
    <span style="color: #708;">if</span> <span style="color: #000;">(</span>array <span style="color: #339933;">==</span> NULL<span style="color: #000;">)</span> <span style="color: #000;">{</span><br/>
        <span style="color: #000066;">perror</span><span style="color: #000;">(</span><span style="color: #a11;">"Memory allocation failed"</span><span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
        <span style="color: #708;">return</span> <span style="color: #164;">1</span><span style="color: #339933;">;</span><br/>
    <span style="color: #000;">}</span><br/>
<br/>
    <span style="color: #708;">for</span> <span style="color: #000;">(</span><span style="color: #993333;">int</span> i <span style="color: #339933;">=</span> <span style="color: #164;">0</span><span style="color: #339933;">;</span> i <span style="color: #339933;">&lt;</span> <span style="color: #164;">10</span><span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #000;">)</span> <span style="color: #000;">{</span><br/>
        array<span style="color: #000;">[</span>i<span style="color: #000;">]</span> <span style="color: #339933;">=</span> i<span style="color: #339933;">;</span><br/>
        <span style="color: #000066;">printf</span><span style="color: #000;">(</span><span style="color: #a11;">"%d "</span><span style="color: #339933;">,</span> array<span style="color: #000;">[</span>i<span style="color: #000;">]</span><span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
    <span style="color: #000;">}</span><br/>
    <span style="color: #000066;">printf</span><span style="color: #000;">(</span><span style="color: #a11;">"<span style="color: #000099; font-weight: bold;">\n</span>"</span><span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
<br/>
    <span style="color: #000066;">free</span><span style="color: #000;">(</span>array<span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
    <span style="color: #708;">return</span> <span style="color: #164;">0</span><span style="color: #339933;">;</span><br/>
<span style="color: #000;">}</span><br/>
</div></div>&#13;
<p>伪随机数生成:</p>&#13;
&#13;
<div class="example"><h2 class="example">实例</h2> <div class="example_code">
<span style="color: #085;">#include &lt;stdio.h&gt;</span><br/>
<span style="color: #085;">#include &lt;stdlib.h&gt;</span><br/>
<span style="color: #085;">#include &lt;time.h&gt;</span><br/>
<br/>
<span style="color: #993333;">int</span> main<span style="color: #000;">(</span><span style="color: #000;">)</span> <span style="color: #000;">{</span><br/>
    <span style="color: #000066;">srand</span><span style="color: #000;">(</span><span style="color: #000066;">time</span><span style="color: #000;">(</span>NULL<span style="color: #000;">)</span><span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
    <span style="color: #708;">for</span> <span style="color: #000;">(</span><span style="color: #993333;">int</span> i <span style="color: #339933;">=</span> <span style="color: #164;">0</span><span style="color: #339933;">;</span> i <span style="color: #339933;">&lt;</span> <span style="color: #164;">10</span><span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #000;">)</span> <span style="color: #000;">{</span><br/>
        <span style="color: #000066;">printf</span><span style="color: #000;">(</span><span style="color: #a11;">"%d "</span><span style="color: #339933;">,</span> <span style="color: #000066;">rand</span><span style="color: #000;">(</span><span style="color: #000;">)</span> <span style="color: #339933;">%</span> <span style="color: #164;">100</span><span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
    <span style="color: #000;">}</span><br/>
    <span style="color: #000066;">printf</span><span style="color: #000;">(</span><span style="color: #a11;">"<span style="color: #000099; font-weight: bold;">\n</span>"</span><span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
<br/>
    <span style="color: #708;">return</span> <span style="color: #164;">0</span><span style="color: #339933;">;</span><br/>
<span style="color: #000;">}</span><br/>
</div></div>&#13;
<p>字符串转换:</p>&#13;
&#13;
<div class="example"><h2 class="example">实例</h2> <div class="example_code">
<span style="color: #085;">#include &lt;stdio.h&gt;</span><br/>
<span style="color: #085;">#include &lt;stdlib.h&gt;</span><br/>
<br/>
<span style="color: #993333;">int</span> main<span style="color: #000;">(</span><span style="color: #000;">)</span> <span style="color: #000;">{</span><br/>
    <span style="color: #993333;">const</span> <span style="color: #993333;">char</span> <span style="color: #339933;">*</span>str <span style="color: #339933;">=</span> <span style="color: #a11;">"12345"</span><span style="color: #339933;">;</span><br/>
    <span style="color: #993333;">int</span> num <span style="color: #339933;">=</span> <span style="color: #000066;">atoi</span><span style="color: #000;">(</span>str<span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
    <span style="color: #000066;">printf</span><span style="color: #000;">(</span><span style="color: #a11;">"The integer value is %d<span style="color: #000099; font-weight: bold;">\n</span>"</span><span style="color: #339933;">,</span> num<span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
<br/>
    <span style="color: #708;">return</span> <span style="color: #164;">0</span><span style="color: #339933;">;</span><br/>
<span style="color: #000;">}</span><br/>
</div></div>&#13;
<p>快速排序:</p>&#13;
<div class="example"><h2 class="example">实例</h2> <div class="example_code">
<span style="color: #085;">#include &lt;stdio.h&gt;</span><br/>
<span style="color: #085;">#include &lt;stdlib.h&gt;</span><br/>
<br/>
<span style="color: #993333;">int</span> compare<span style="color: #000;">(</span><span style="color: #993333;">const</span> <span style="color: #993333;">void</span> <span style="color: #339933;">*</span>a<span style="color: #339933;">,</span> <span style="color: #993333;">const</span> <span style="color: #993333;">void</span> <span style="color: #339933;">*</span>b<span style="color: #000;">)</span> <span style="color: #000;">{</span><br/>
    <span style="color: #708;">return</span> <span style="color: #000;">(</span><span style="color: #339933;">*</span><span style="color: #000;">(</span><span style="color: #993333;">int</span><span style="color: #339933;">*</span><span style="color: #000;">)</span>a <span style="color: #339933;">-</span> <span style="color: #339933;">*</span><span style="color: #000;">(</span><span style="color: #993333;">int</span><span style="color: #339933;">*</span><span style="color: #000;">)</span>b<span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
<span style="color: #000;">}</span><br/>
<br/>
<span style="color: #993333;">int</span> main<span style="color: #000;">(</span><span style="color: #000;">)</span> <span style="color: #000;">{</span><br/>
    <span style="color: #993333;">int</span> array<span style="color: #000;">[</span><span style="color: #000;">]</span> <span style="color: #339933;">=</span> <span style="color: #000;">{</span><span style="color: #164;">5</span><span style="color: #339933;">,</span> <span style="color: #164;">2</span><span style="color: #339933;">,</span> <span style="color: #164;">9</span><span style="color: #339933;">,</span> <span style="color: #164;">1</span><span style="color: #339933;">,</span> <span style="color: #164;">5</span><span style="color: #339933;">,</span> <span style="color: #164;">6</span><span style="color: #000;">}</span><span style="color: #339933;">;</span><br/>
    <span style="color: #993333;">int</span> size <span style="color: #339933;">=</span> <span style="color: #993333;">sizeof</span><span style="color: #000;">(</span>array<span style="color: #000;">)</span> <span style="color: #339933;">/</span> <span style="color: #993333;">sizeof</span><span style="color: #000;">(</span>array<span style="color: #000;">[</span><span style="color: #164;">0</span><span style="color: #000;">]</span><span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
<br/>
    <span style="color: #000066;">qsort</span><span style="color: #000;">(</span>array<span style="color: #339933;">,</span> size<span style="color: #339933;">,</span> <span style="color: #993333;">sizeof</span><span style="color: #000;">(</span><span style="color: #993333;">int</span><span style="color: #000;">)</span><span style="color: #339933;">,</span> compare<span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
<br/>
    <span style="color: #708;">for</span> <span style="color: #000;">(</span><span style="color: #993333;">int</span> i <span style="color: #339933;">=</span> <span style="color: #164;">0</span><span style="color: #339933;">;</span> i <span style="color: #339933;">&lt;</span> size<span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #000;">)</span> <span style="color: #000;">{</span><br/>
        <span style="color: #000066;">printf</span><span style="color: #000;">(</span><span style="color: #a11;">"%d "</span><span style="color: #339933;">,</span> array<span style="color: #000;">[</span>i<span style="color: #000;">]</span><span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
    <span style="color: #000;">}</span><br/>
    <span style="color: #000066;">printf</span><span style="color: #000;">(</span><span style="color: #a11;">"<span style="color: #000099; font-weight: bold;">\n</span>"</span><span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
<br/>
    <span style="color: #708;">return</span> <span style="color: #164;">0</span><span style="color: #339933;">;</span><br/>
<span style="color: #000;">}</span><br/>
</div></div><h3>注意事项</h3><ul><li>使用 <code>malloc</code>、<code>calloc</code> 和 <code>realloc</code> 分配的内存必须使用 <code>free</code> 释放，以避免内存泄漏。</li><li><code>atoi</code>、<code>atol</code> 和 <code>atof</code> 函数不提供错误检查，使用时需确保输入格式正确。建议使用 <code>strtol</code>、<code>strtoul</code> 和 <code>strtod</code> 以进行更安全的转换。</li><li><code>qsort</code> 和 <code>bsearch</code> 函数需要自定义比较函数，以处理不同的数据类型和排序需求。</li></ul><p>通过理解和使用 <code>&lt;stdlib.h&gt;</code> 提供的函数，可以在 C 程序中进行内存管理、进程控制、随机数生成、环境管理、数学转换以及排序和搜索等操作，从而编写更加灵活和功能丰富的程序。</p>			<!-- 其他扩展 -->
						
			</div>
			
		
</body>
</html>