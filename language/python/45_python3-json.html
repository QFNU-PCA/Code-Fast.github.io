<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>Python3 JSON 数据解析</title>
</head>
<body>
<div class="article-intro" id="content">
			
			<h1>Python3 JSON 数据解析</h1>&#13;
<p>JSON (JavaScript Object Notation)  是一种轻量级的数据交换格式。</p>&#13;
<p>如果你还不了解 JSON，可以先阅读我们的 <a href="https://www.runoob.com/json/json-tutorial.html" rel="noopener noreferrer" target="_blank">JSON 教程</a>。</p>&#13;
<p>Python3 中可以使用 json 模块来对 JSON 数据进行编解码，它包含了两个函数：</p>&#13;
<ul>&#13;
<li><b>json.dumps(): </b>对数据进行编码。</li>&#13;
<li><b>json.loads(): </b>对数据进行解码。</li>&#13;
</ul>&#13;
<p><img decoding="async" width="60%" src="https://www.runoob.com/wp-content/uploads/2016/04/json-dumps-loads.png"/></p>&#13;
<p>&#13;
在 json 的编解码过程中，Python 的原始类型与 json 类型会相互转换，具体的转化对照如下：</p>&#13;
<h3>Python 编码为 JSON 类型转换对应表：</h3>&#13;
<table border="1" class="reference">&#13;
<colgroup>&#13;
<col width="73%"/>&#13;
<col width="27%"/>&#13;
</colgroup>&#13;
<thead valign="bottom">&#13;
<tr class="row-odd"><th class="head">Python</th>&#13;
<th class="head">JSON</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody valign="top">&#13;
<tr class="row-even"><td>dict</td>&#13;
<td>object</td>&#13;
</tr>&#13;
<tr class="row-odd"><td>list, tuple</td>&#13;
<td>array</td>&#13;
</tr>&#13;
<tr class="row-even"><td>str</td>&#13;
<td>string</td>&#13;
</tr>&#13;
<tr class="row-odd"><td>int, float, int- &amp; float-derived Enums</td>&#13;
<td>number</td>&#13;
</tr>&#13;
<tr class="row-even"><td>True</td>&#13;
<td>true</td>&#13;
</tr>&#13;
<tr class="row-odd"><td>False</td>&#13;
<td>false</td>&#13;
</tr>&#13;
<tr class="row-even"><td>None</td>&#13;
<td>null</td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
&#13;
<h3>JSON 解码为 Python 类型转换对应表：</h3>&#13;
<table border="1" class="reference">&#13;
<colgroup>&#13;
<col width="44%"/>&#13;
<col width="56%"/>&#13;
</colgroup>&#13;
<thead valign="bottom">&#13;
<tr class="row-odd"><th class="head">JSON</th>&#13;
<th class="head">Python</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody valign="top">&#13;
<tr class="row-even"><td>object</td>&#13;
<td>dict</td>&#13;
</tr>&#13;
<tr class="row-odd"><td>array</td>&#13;
<td>list</td>&#13;
</tr>&#13;
<tr class="row-even"><td>string</td>&#13;
<td>str</td>&#13;
</tr>&#13;
<tr class="row-odd"><td>number (int)</td>&#13;
<td>int</td>&#13;
</tr>&#13;
<tr class="row-even"><td>number (real)</td>&#13;
<td>float</td>&#13;
</tr>&#13;
<tr class="row-odd"><td>true</td>&#13;
<td>True</td>&#13;
</tr>&#13;
<tr class="row-even"><td>false</td>&#13;
<td>False</td>&#13;
</tr>&#13;
<tr class="row-odd"><td>null</td>&#13;
<td>None</td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
<h3>json.dumps 与 json.loads 实例</h3>&#13;
<p>以下实例演示了 Python 数据结构转换为JSON：</p>&#13;
<div class="example"> &#13;
<h2 class="example">实例(Python 3.0+)</h2> &#13;
<div class="example_code">&#13;
<div class="hl-main"><span class="hl-comment">#!/usr/bin/python3</span><span class="hl-code">
 
</span><span class="hl-reserved">import</span><span class="hl-code"> </span><span class="hl-identifier">json</span><span class="hl-code">
 
</span><span class="hl-comment"># Python 字典类型转换为 JSON 对象</span><span class="hl-code">
</span><span class="hl-identifier">data</span><span class="hl-code"> = {
    </span><span class="hl-quotes">'</span><span class="hl-string">no</span><span class="hl-quotes">'</span><span class="hl-code"> : </span><span class="hl-number">1</span><span class="hl-code">,
    </span><span class="hl-quotes">'</span><span class="hl-string">name</span><span class="hl-quotes">'</span><span class="hl-code"> : </span><span class="hl-quotes">'</span><span class="hl-string">Runoob</span><span class="hl-quotes">'</span><span class="hl-code">,
    </span><span class="hl-quotes">'</span><span class="hl-string">url</span><span class="hl-quotes">'</span><span class="hl-code"> : </span><span class="hl-quotes">'</span><span class="hl-string">https://www.runoob.com</span><span class="hl-quotes">'</span><span class="hl-code">
}
 
</span><span class="hl-identifier">json_str</span><span class="hl-code"> = </span><span class="hl-identifier">json</span><span class="hl-code">.</span><span class="hl-identifier">dumps</span><span class="hl-brackets">(</span><span class="hl-identifier">data</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-identifier">print</span><span class="hl-code"> </span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">Python 原始数据：</span><span class="hl-quotes">"</span><span class="hl-code">, </span><span class="hl-builtin">repr</span><span class="hl-brackets">(</span><span class="hl-identifier">data</span><span class="hl-brackets">)</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-identifier">print</span><span class="hl-code"> </span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">JSON 对象：</span><span class="hl-quotes">"</span><span class="hl-code">, </span><span class="hl-identifier">json_str</span><span class="hl-brackets">)</span></div>&#13;
</div>&#13;
</div>&#13;
<p>执行以上代码输出结果为：</p>&#13;
<pre>&#13;
Python 原始数据： {'no': 1, 'name': 'Runoob', 'url': 'https://www.runoob.com'}&#13;
JSON 对象： {"no": 1, "name": "Runoob", "url": "https://www.runoob.com"}&#13;
</pre>&#13;
<p>通过输出的结果可以看出，简单类型通过编码后跟其原始的repr()输出结果非常相似。</p>&#13;
<p>接着以上实例，我们可以将一个JSON编码的字符串转换回一个Python数据结构：</p>&#13;
<div class="example"> &#13;
<h2 class="example">实例(Python 3.0+)</h2> &#13;
<div class="example_code">&#13;
<div class="hl-main"><span class="hl-comment">#!/usr/bin/python3</span><span class="hl-code">
 
</span><span class="hl-reserved">import</span><span class="hl-code"> </span><span class="hl-identifier">json</span><span class="hl-code">
 
</span><span class="hl-comment"># Python 字典类型转换为 JSON 对象</span><span class="hl-code">
</span><span class="hl-identifier">data1</span><span class="hl-code"> = {
    </span><span class="hl-quotes">'</span><span class="hl-string">no</span><span class="hl-quotes">'</span><span class="hl-code"> : </span><span class="hl-number">1</span><span class="hl-code">,
    </span><span class="hl-quotes">'</span><span class="hl-string">name</span><span class="hl-quotes">'</span><span class="hl-code"> : </span><span class="hl-quotes">'</span><span class="hl-string">Runoob</span><span class="hl-quotes">'</span><span class="hl-code">,
    </span><span class="hl-quotes">'</span><span class="hl-string">url</span><span class="hl-quotes">'</span><span class="hl-code"> : </span><span class="hl-quotes">'</span><span class="hl-string">http://www.runoob.com</span><span class="hl-quotes">'</span><span class="hl-code">
}
 
</span><span class="hl-identifier">json_str</span><span class="hl-code"> = </span><span class="hl-identifier">json</span><span class="hl-code">.</span><span class="hl-identifier">dumps</span><span class="hl-brackets">(</span><span class="hl-identifier">data1</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-identifier">print</span><span class="hl-code"> </span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">Python 原始数据：</span><span class="hl-quotes">"</span><span class="hl-code">, </span><span class="hl-builtin">repr</span><span class="hl-brackets">(</span><span class="hl-identifier">data1</span><span class="hl-brackets">)</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-identifier">print</span><span class="hl-code"> </span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">JSON 对象：</span><span class="hl-quotes">"</span><span class="hl-code">, </span><span class="hl-identifier">json_str</span><span class="hl-brackets">)</span><span class="hl-code">
 
</span><span class="hl-comment"># 将 JSON 对象转换为 Python 字典</span><span class="hl-code">
</span><span class="hl-identifier">data2</span><span class="hl-code"> = </span><span class="hl-identifier">json</span><span class="hl-code">.</span><span class="hl-identifier">loads</span><span class="hl-brackets">(</span><span class="hl-identifier">json_str</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-identifier">print</span><span class="hl-code"> </span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">data2['name']: </span><span class="hl-quotes">"</span><span class="hl-code">, </span><span class="hl-identifier">data2</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">name</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-identifier">print</span><span class="hl-code"> </span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">data2['url']: </span><span class="hl-quotes">"</span><span class="hl-code">, </span><span class="hl-identifier">data2</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">url</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span><span class="hl-brackets">)</span></div>&#13;
</div>&#13;
</div>&#13;
<p>执行以上代码输出结果为：</p>&#13;
<pre>&#13;
Python 原始数据： {'name': 'Runoob', 'no': 1, 'url': 'http://www.runoob.com'}&#13;
JSON 对象： {"name": "Runoob", "no": 1, "url": "http://www.runoob.com"}&#13;
data2['name']:  Runoob&#13;
data2['url']:  http://www.runoob.com&#13;
</pre>&#13;
<p>如果你要处理的是文件而不是字符串，你可以使用 <b>json.dump()</b> 和 <b>json.load()</b> 来编码和解码JSON数据。例如：</p>&#13;
<div class="example"> &#13;
<h2 class="example">实例(Python 3.0+)</h2> &#13;
<div class="example_code">&#13;
<div class="hl-main"><span class="hl-comment"># 写入 JSON 数据</span><span class="hl-code">
</span><span class="hl-identifier">with</span><span class="hl-code"> </span><span class="hl-builtin">open</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">data.json</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">w</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-identifier">as</span><span class="hl-code"> </span><span class="hl-identifier">f</span><span class="hl-code">:
    </span><span class="hl-identifier">json</span><span class="hl-code">.</span><span class="hl-identifier">dump</span><span class="hl-brackets">(</span><span class="hl-identifier">data</span><span class="hl-code">, </span><span class="hl-identifier">f</span><span class="hl-brackets">)</span><span class="hl-code">
 
</span><span class="hl-comment"># 读取数据</span><span class="hl-code">
</span><span class="hl-identifier">with</span><span class="hl-code"> </span><span class="hl-builtin">open</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">data.json</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">r</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-identifier">as</span><span class="hl-code"> </span><span class="hl-identifier">f</span><span class="hl-code">:
    </span><span class="hl-identifier">data</span><span class="hl-code"> = </span><span class="hl-identifier">json</span><span class="hl-code">.</span><span class="hl-identifier">load</span><span class="hl-brackets">(</span><span class="hl-identifier">f</span><span class="hl-brackets">)</span></div>&#13;
</div>&#13;
</div>&#13;
<p>更多资料请参考：<a href="https://docs.python.org/3/library/json.html" target="_blank" rel="noopener noreferrer">https://docs.python.org/3/library/json.html</a>			<!-- 其他扩展 -->
						
			</p></div>
			
		
</body>
</html>