<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>C 标准库 - <string.h></title>
</head>
<body>
<div class="article-intro" id="content">
			
			<h1>C 标准库 - <span class="color_h1">&lt;string.h&gt;</span></h1>&#13;
&#13;
<h2>简介</h2>&#13;
<p><b>string .h</b> 头文件定义了一个变量类型、一个宏和各种操作字符数组的函数。</p>&#13;
<p><code>&lt;string.h&gt;</code> 是 C 标准库中的一个头文件，提供了一组用于处理字符串和内存块的函数。这些函数涵盖了字符串复制、连接、比较、搜索和内存操作等。</p>&#13;
<h2>库变量</h2>&#13;
<p>下面是头文件 string.h 中定义的变量类型：</p>&#13;
<table class="reference notranslate">&#13;
<tr><th style="width:5%">序号</th><th>变量 &amp; 描述</th></tr>&#13;
<tr><td>1</td><td><b>size_t </b><br/>这是无符号整数类型，它是 <b>sizeof</b> 关键字的结果。</td></tr>&#13;
</table>&#13;
&#13;
<h2>库宏</h2>&#13;
<p>下面是头文件 string.h 中定义的宏：</p>&#13;
<table class="reference notranslate">&#13;
<tr><th style="width:5%">序号</th><th>宏 &amp; 描述</th></tr>&#13;
<tr><td>1</td><td><b>NULL</b><br/>这个宏是一个空指针常量的值。</td></tr>&#13;
</table>&#13;
&#13;
<h2>库函数</h2>&#13;
<p>下面是头文件 string.h 中定义的函数：</p>&#13;
<table class="reference notranslate">&#13;
<tr><th style="width:5%">序号</th><th>函数 &amp; 描述</th></tr>&#13;
<tr><td>1</td><td><a href="c-function-memchr.html">void *memchr(const void *str, int c, size_t n)</a><br/>在参数 <i>str</i> 所指向的字符串的前 n 个字节中搜索第一次出现字符 c（一个无符号字符）的位置。</td></tr>&#13;
<tr><td>2</td><td><a href="c-function-memcmp.html">int memcmp(const void *str1, const void *str2, size_t n)</a><br/>把 <i>str1</i> 和 <i>str2</i> 的前 n 个字节进行比较。</td></tr>&#13;
<tr><td>3</td><td><a href="c-function-memcpy.html">void *memcpy(void *dest, const void *src, size_t n)</a><br/>从 src 复制 n 个字符到 <i>dest</i>。</td></tr>&#13;
<tr><td>4</td><td><a href="c-function-memmove.html">void *memmove(void *dest, const void *src, size_t n)</a><br/>另一个用于从 <i>src</i> 复制 n 个字符到 <i>dest</i> 的函数。</td></tr>&#13;
<tr><td>5</td><td><a href="c-function-memset.html">void *memset(void *str, int c, size_t n)</a><br/>将指定的值 c 复制到 str 所指向的内存区域的前 n 个字节中。</td></tr>&#13;
<tr><td>6</td><td><a href="c-function-strcat.html">char *strcat(char *dest, const char *src)</a><br/>把 <i>src</i> 所指向的字符串追加到 <i>dest</i> 所指向的字符串的结尾。</td></tr>&#13;
<tr><td>7</td><td><a href="c-function-strncat.html">char *strncat(char *dest, const char *src, size_t n)</a><br/>把 <i>src</i> 所指向的字符串追加到 <i>dest</i> 所指向的字符串的结尾，直到 n 字符长度为止。</td></tr>&#13;
<tr><td>8</td><td><a href="c-function-strchr.html">char *strchr(const char *str, int c)</a><br/>在参数 <i>str</i> 所指向的字符串中搜索第一次出现字符 c（一个无符号字符）的位置。</td></tr>&#13;
<tr><td>9</td><td><a href="c-function-strcmp.html">int strcmp(const char *str1, const char *str2)</a><br/>把 <i>str1</i> 所指向的字符串和 <i>str2</i> 所指向的字符串进行比较。</td></tr>&#13;
<tr><td>10</td><td><a href="c-function-strncmp.html">int strncmp(const char *str1, const char *str2, size_t n)</a><br/>把 <i>str1</i> 和 <i>str2</i> 进行比较，最多比较前 n 个字节。</td></tr>&#13;
<tr><td>11</td><td><a href="c-function-strcoll.html">int strcoll(const char *str1, const char *str2)</a><br/>把 <i>str1</i> 和 <i>str2</i> 进行比较，结果取决于 LC_COLLATE 的位置设置。</td></tr>&#13;
<tr><td>12</td><td><a href="c-function-strcpy.html">char *strcpy(char *dest, const char *src)</a><br/>把 <i>src</i> 所指向的字符串复制到 <i>dest</i>。</td></tr>&#13;
<tr><td>13</td><td><a href="c-function-strncpy.html">char *strncpy(char *dest, const char *src, size_t n)</a><br/>把 <i>src</i> 所指向的字符串复制到 <i>dest</i>，最多复制 n 个字符。</td></tr>&#13;
<tr><td>14</td><td><a href="c-function-strcspn.html">size_t strcspn(const char *str1, const char *str2)</a><br/>检索字符串 str1 开头连续有几个字符都不含字符串 str2 中的字符。</td></tr>&#13;
<tr><td>15</td><td><a href="c-function-strerror.html">char *strerror(int errnum)</a><br/>从内部数组中搜索错误号 errnum，并返回一个指向错误消息字符串的指针。</td></tr>&#13;
<tr><td>16</td><td><a href="c-function-strlen.html">size_t strlen(const char *str)</a><br/>计算字符串 str 的长度，直到空结束字符，但不包括空结束字符。</td></tr>&#13;
<tr><td>17</td><td><a href="c-function-strpbrk.html">char *strpbrk(const char *str1, const char *str2)</a><br/>检索字符串 <i>str1</i> 中第一个匹配字符串 <i>str2</i> 中字符的字符，不包含空结束字符。也就是说，依次检验字符串 str1 中的字符，当被检验字符在字符串 str2 中也包含时，则停止检验，并返回该字符位置。</td></tr>&#13;
<tr><td>18</td><td><a href="c-function-strrchr.html">char *strrchr(const char *str, int c)</a><br/>在参数 <i>str</i> 所指向的字符串中搜索最后一次出现字符 c（一个无符号字符）的位置。</td></tr>&#13;
<tr><td>19</td><td><a href="c-function-strspn.html">size_t strspn(const char *str1, const char *str2)</a><br/>检索字符串 <i>str1</i> 中第一个不在字符串 <i>str2</i> 中出现的字符下标。</td></tr>&#13;
<tr><td>20</td><td><a href="c-function-strstr.html">char *strstr(const char *haystack, const char *needle)</a><br/>在字符串 <i>haystack</i> 中查找第一次出现字符串 <i>needle</i>（不包含空结束字符）的位置。</td></tr>&#13;
<tr><td>21</td><td><a href="c-function-strtok.html">char *strtok(char *str, const char *delim)</a><br/>分解字符串 <i>str</i> 为一组字符串，<i>delim</i> 为分隔符。</td></tr>&#13;
<tr><td>22</td><td><a href="c-function-strxfrm.html">size_t strxfrm(char *dest, const char *src, size_t n)</a><br/>根据程序当前的区域选项中的 LC_COLLATE 来转换字符串 <b>src</b> 的前 <b>n</b> 个字符，并把它们放置在字符串 <b>dest</b> 中。</td></tr>&#13;
</table><h3>实例</h3>&#13;
&#13;
<p>以下是使用 <code>&lt;string.h&gt;</code> 中一些函数的示例。</p>&#13;
<p>&#13;
复制字符串：</p>&#13;
<div class="example"><h2 class="example">实例</h2> <div class="example_code">
<span style="color: #085;">#include &lt;stdio.h&gt;</span><br/>
<span style="color: #085;">#include &lt;string.h&gt;</span><br/>
<br/>
<span style="color: #993333;">int</span> main<span style="color: #000;">(</span><span style="color: #000;">)</span> <span style="color: #000;">{</span><br/>
    <span style="color: #993333;">char</span> src<span style="color: #000;">[</span><span style="color: #000;">]</span> <span style="color: #339933;">=</span> <span style="color: #a11;">"Hello, World!"</span><span style="color: #339933;">;</span><br/>
    <span style="color: #993333;">char</span> dest<span style="color: #000;">[</span><span style="color: #164;">50</span><span style="color: #000;">]</span><span style="color: #339933;">;</span><br/>
<br/>
    <span style="color: #000066;">strcpy</span><span style="color: #000;">(</span>dest<span style="color: #339933;">,</span> src<span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
    <span style="color: #000066;">printf</span><span style="color: #000;">(</span><span style="color: #a11;">"Copied string: %s<span style="color: #000099; font-weight: bold;">\n</span>"</span><span style="color: #339933;">,</span> dest<span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
<br/>
    <span style="color: #708;">return</span> <span style="color: #164;">0</span><span style="color: #339933;">;</span><br/>
<span style="color: #000;">}</span><br/>
</div></div>&#13;
<p>连接字符串:</p>&#13;
&#13;
<div class="example"><h2 class="example">实例</h2> <div class="example_code">
<span style="color: #085;">#include &lt;stdio.h&gt;</span><br/>
<span style="color: #085;">#include &lt;string.h&gt;</span><br/>
<br/>
<span style="color: #993333;">int</span> main<span style="color: #000;">(</span><span style="color: #000;">)</span> <span style="color: #000;">{</span><br/>
    <span style="color: #993333;">char</span> str1<span style="color: #000;">[</span><span style="color: #164;">50</span><span style="color: #000;">]</span> <span style="color: #339933;">=</span> <span style="color: #a11;">"Hello"</span><span style="color: #339933;">;</span><br/>
    <span style="color: #993333;">char</span> str2<span style="color: #000;">[</span><span style="color: #000;">]</span> <span style="color: #339933;">=</span> <span style="color: #a11;">", World!"</span><span style="color: #339933;">;</span><br/>
<br/>
    <span style="color: #000066;">strcat</span><span style="color: #000;">(</span>str1<span style="color: #339933;">,</span> str2<span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
    <span style="color: #000066;">printf</span><span style="color: #000;">(</span><span style="color: #a11;">"Concatenated string: %s<span style="color: #000099; font-weight: bold;">\n</span>"</span><span style="color: #339933;">,</span> str1<span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
<br/>
    <span style="color: #708;">return</span> <span style="color: #164;">0</span><span style="color: #339933;">;</span><br/>
<span style="color: #000;">}</span><br/>
</div></div>&#13;
<p>比较字符串:</p>&#13;
<div class="example"><h2 class="example">实例</h2> <div class="example_code">
<span style="color: #085;">#include &lt;stdio.h&gt;</span><br/>
<span style="color: #085;">#include &lt;string.h&gt;</span><br/>
<br/>
<span style="color: #993333;">int</span> main<span style="color: #000;">(</span><span style="color: #000;">)</span> <span style="color: #000;">{</span><br/>
    <span style="color: #993333;">char</span> str1<span style="color: #000;">[</span><span style="color: #000;">]</span> <span style="color: #339933;">=</span> <span style="color: #a11;">"Hello"</span><span style="color: #339933;">;</span><br/>
    <span style="color: #993333;">char</span> str2<span style="color: #000;">[</span><span style="color: #000;">]</span> <span style="color: #339933;">=</span> <span style="color: #a11;">"World"</span><span style="color: #339933;">;</span><br/>
<br/>
    <span style="color: #993333;">int</span> result <span style="color: #339933;">=</span> <span style="color: #000066;">strcmp</span><span style="color: #000;">(</span>str1<span style="color: #339933;">,</span> str2<span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
    <span style="color: #708;">if</span> <span style="color: #000;">(</span>result <span style="color: #339933;">==</span> <span style="color: #164;">0</span><span style="color: #000;">)</span> <span style="color: #000;">{</span><br/>
        <span style="color: #000066;">printf</span><span style="color: #000;">(</span><span style="color: #a11;">"Strings are equal<span style="color: #000099; font-weight: bold;">\n</span>"</span><span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
    <span style="color: #000;">}</span> <span style="color: #708;">else</span> <span style="color: #000;">{</span><br/>
        <span style="color: #000066;">printf</span><span style="color: #000;">(</span><span style="color: #a11;">"Strings are not equal<span style="color: #000099; font-weight: bold;">\n</span>"</span><span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
    <span style="color: #000;">}</span><br/>
<br/>
    <span style="color: #708;">return</span> <span style="color: #164;">0</span><span style="color: #339933;">;</span><br/>
<span style="color: #000;">}</span><br/>
</div></div><p>&#13;
查找字符在字符串中的第一次出现:</p>&#13;
&#13;
<div class="example"><h2 class="example">实例</h2> <div class="example_code">
<span style="color: #085;">#include &lt;stdio.h&gt;</span><br/>
<span style="color: #085;">#include &lt;string.h&gt;</span><br/>
<br/>
<span style="color: #993333;">int</span> main<span style="color: #000;">(</span><span style="color: #000;">)</span> <span style="color: #000;">{</span><br/>
    <span style="color: #993333;">char</span> str<span style="color: #000;">[</span><span style="color: #000;">]</span> <span style="color: #339933;">=</span> <span style="color: #a11;">"Hello, World!"</span><span style="color: #339933;">;</span><br/>
    <span style="color: #993333;">char</span> <span style="color: #339933;">*</span>ptr <span style="color: #339933;">=</span> <span style="color: #000066;">strchr</span><span style="color: #000;">(</span>str<span style="color: #339933;">,</span> <span style="color: #a11;">'o'</span><span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
<br/>
    <span style="color: #708;">if</span> <span style="color: #000;">(</span>ptr <span style="color: #339933;">!=</span> NULL<span style="color: #000;">)</span> <span style="color: #000;">{</span><br/>
        <span style="color: #000066;">printf</span><span style="color: #000;">(</span><span style="color: #a11;">"First occurrence of 'o' found at position: %ld<span style="color: #000099; font-weight: bold;">\n</span>"</span><span style="color: #339933;">,</span> ptr <span style="color: #339933;">-</span> str<span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
    <span style="color: #000;">}</span> <span style="color: #708;">else</span> <span style="color: #000;">{</span><br/>
        <span style="color: #000066;">printf</span><span style="color: #000;">(</span><span style="color: #a11;">"Character not found<span style="color: #000099; font-weight: bold;">\n</span>"</span><span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
    <span style="color: #000;">}</span><br/>
<br/>
    <span style="color: #708;">return</span> <span style="color: #164;">0</span><span style="color: #339933;">;</span><br/>
<span style="color: #000;">}</span><br/>
</div></div>&#13;
<p>复制内存块:</p>&#13;
&#13;
<div class="example"><h2 class="example">实例</h2> <div class="example_code">
<span style="color: #085;">#include &lt;stdio.h&gt;</span><br/>
<span style="color: #085;">#include &lt;string.h&gt;</span><br/>
<br/>
<span style="color: #993333;">int</span> main<span style="color: #000;">(</span><span style="color: #000;">)</span> <span style="color: #000;">{</span><br/>
    <span style="color: #993333;">char</span> src<span style="color: #000;">[</span><span style="color: #000;">]</span> <span style="color: #339933;">=</span> <span style="color: #a11;">"Hello, World!"</span><span style="color: #339933;">;</span><br/>
    <span style="color: #993333;">char</span> dest<span style="color: #000;">[</span><span style="color: #164;">50</span><span style="color: #000;">]</span><span style="color: #339933;">;</span><br/>
<br/>
    <span style="color: #000066;">memcpy</span><span style="color: #000;">(</span>dest<span style="color: #339933;">,</span> src<span style="color: #339933;">,</span> <span style="color: #000066;">strlen</span><span style="color: #000;">(</span>src<span style="color: #000;">)</span> <span style="color: #339933;">+</span> <span style="color: #164;">1</span><span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
    <span style="color: #000066;">printf</span><span style="color: #000;">(</span><span style="color: #a11;">"Copied memory: %s<span style="color: #000099; font-weight: bold;">\n</span>"</span><span style="color: #339933;">,</span> dest<span style="color: #000;">)</span><span style="color: #339933;">;</span><br/>
<br/>
    <span style="color: #708;">return</span> <span style="color: #164;">0</span><span style="color: #339933;">;</span><br/>
<span style="color: #000;">}</span><br/>
</div></div><h3>注意事项</h3><ul><li>使用字符串函数时，需要确保目标缓冲区有足够的空间来存储结果，以避免缓冲区溢出。</li><li><code>strncpy</code> 和 <code>strncat</code> 可以指定要复制或连接的最大字符数，有助于防止缓冲区溢出。</li><li><code>strtok</code> 函数不是线程安全的，因为它在内部使用静态变量来保存上下文。如果在多线程环境中使用，需要使用 <code>strtok_r</code> 函数。</li><li>使用 <code>memcpy</code> 时，源和目标内存区域不应重叠。如果可能会重叠，应该使用 <code>memmove</code>。</li></ul><p>通过理解和使用 <code>&lt;string.h&gt;</code> 提供的函数，可以方便地进行字符串和内存操作，编写更加高效和可靠的 C 程序。</p>			<!-- 其他扩展 -->
						
			</div>
			
		
</body>
</html>